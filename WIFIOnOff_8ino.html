<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>WifiOnOff: /home/travis/build/peastone/WIFIOnOff/src/WIFIOnOff.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WifiOnOff
   </div>
   <div id="projectbrief">A socket which an be controlled by MQTT and HTTP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">WIFIOnOff.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ESP8266WebServer.h&gt;</code><br/>
<code>#include &lt;ESP8266WiFi.h&gt;</code><br/>
<code>#include &lt;ESP8266mDNS.h&gt;</code><br/>
<code>#include &lt;EEPROM.h&gt;</code><br/>
<code>#include &lt;Ticker.h&gt;</code><br/>
<code>#include &lt;MQTTClient.h&gt;</code><br/>
<code>#include &lt;ArduinoOTA.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for WIFIOnOff.ino:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino__incl.png" border="0" usemap="#_2home_2travis_2build_2peastone_2WIFIOnOff_2src_2WIFIOnOff_8ino" alt=""/></div>
<map name="_2home_2travis_2build_2peastone_2WIFIOnOff_2src_2WIFIOnOff_8ino" id="_2home_2travis_2build_2peastone_2WIFIOnOff_2src_2WIFIOnOff_8ino">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a111429b8fcdec5c5148837425261c18f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a111429b8fcdec5c5148837425261c18f">SERIAL_PRINTING</a></td></tr>
<tr class="memdesc:a111429b8fcdec5c5148837425261c18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define SERIAL_PRINTING if you want to enable serial communication.  <a href="#a111429b8fcdec5c5148837425261c18f">More...</a><br/></td></tr>
<tr class="separator:a111429b8fcdec5c5148837425261c18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59912dabf54ca43542cdc292e80d5742"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a59912dabf54ca43542cdc292e80d5742">NUMERIC_RESPONSE</a></td></tr>
<tr class="memdesc:a59912dabf54ca43542cdc292e80d5742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define NUMERIC_RESPONSE if you want the <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> to publish "1" or "0" instead of "on" or "off".  <a href="#a59912dabf54ca43542cdc292e80d5742">More...</a><br/></td></tr>
<tr class="separator:a59912dabf54ca43542cdc292e80d5742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05aa5fbe8a67eecb3e1d318cc590b4f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a05aa5fbe8a67eecb3e1d318cc590b4f9">OUTPUT_RELAY_STATE_ON_GREEN_STATUS_LED</a></td></tr>
<tr class="memdesc:a05aa5fbe8a67eecb3e1d318cc590b4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state of the relay is visible through the blue LED (connected == LED shines). Define OUTPUT_RELAY_STATE_ON_GREEN_STATUS_LED, if you want the state of the relay being visible also on the green LED (connected == LED shines).  <a href="#a05aa5fbe8a67eecb3e1d318cc590b4f9">More...</a><br/></td></tr>
<tr class="separator:a05aa5fbe8a67eecb3e1d318cc590b4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b6e2877e1ad309ad7f24c22f97eed1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a29b6e2877e1ad309ad7f24c22f97eed1">DEV_OTA_UPDATES</a></td></tr>
<tr class="memdesc:a29b6e2877e1ad309ad7f24c22f97eed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define DEV_OTA_UPDATES if you want to perform OTA updates for development with Arduino IDE.  <a href="#a29b6e2877e1ad309ad7f24c22f97eed1">More...</a><br/></td></tr>
<tr class="separator:a29b6e2877e1ad309ad7f24c22f97eed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc670eb8e8858f7ddbbecf997a99dbca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#afc670eb8e8858f7ddbbecf997a99dbca">DEV_OTA_PASSWD</a>&#160;&#160;&#160;&quot;CwpvVzR33gKY&quot;</td></tr>
<tr class="memdesc:afc670eb8e8858f7ddbbecf997a99dbca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the password to protect OTA with DEV_OTA_PASSWD. This is not a high security procedure.  <a href="#afc670eb8e8858f7ddbbecf997a99dbca">More...</a><br/></td></tr>
<tr class="separator:afc670eb8e8858f7ddbbecf997a99dbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c74d8a61960bcc6f7e06acc3dda4c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af0c74d8a61960bcc6f7e06acc3dda4c3">TRIGGER_TIME_WPS</a>&#160;&#160;&#160;7000</td></tr>
<tr class="memdesc:af0c74d8a61960bcc6f7e06acc3dda4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">time in ms to wait until WPS request is triggered when pressing the button (see <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a>)  <a href="#af0c74d8a61960bcc6f7e06acc3dda4c3">More...</a><br/></td></tr>
<tr class="separator:af0c74d8a61960bcc6f7e06acc3dda4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65378513c8fda212e6ad80723ebfa2b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a65378513c8fda212e6ad80723ebfa2b7">TRIGGER_TIME_WIFI_DATA_RESET</a>&#160;&#160;&#160;30000</td></tr>
<tr class="memdesc:a65378513c8fda212e6ad80723ebfa2b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">time in ms to wait until the WIFI configuration reset  <a href="#a65378513c8fda212e6ad80723ebfa2b7">More...</a><br/></td></tr>
<tr class="separator:a65378513c8fda212e6ad80723ebfa2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d71187e9e78d5bd8e38f8bd84edcfbd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1d71187e9e78d5bd8e38f8bd84edcfbd">TRIGGER_TIME_FACTORY_RESET</a>&#160;&#160;&#160;60000</td></tr>
<tr class="memdesc:a1d71187e9e78d5bd8e38f8bd84edcfbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">time in ms to wait until factory reset is triggered when pressing the button (see <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a>)  <a href="#a1d71187e9e78d5bd8e38f8bd84edcfbd">More...</a><br/></td></tr>
<tr class="separator:a1d71187e9e78d5bd8e38f8bd84edcfbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0906dae4a42c1fef9ec0cd0a5212ed4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0906dae4a42c1fef9ec0cd0a5212ed4a">HTTP_PORT</a>&#160;&#160;&#160;80</td></tr>
<tr class="memdesc:a0906dae4a42c1fef9ec0cd0a5212ed4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">standard port used for the HTTP protocol  <a href="#a0906dae4a42c1fef9ec0cd0a5212ed4a">More...</a><br/></td></tr>
<tr class="separator:a0906dae4a42c1fef9ec0cd0a5212ed4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8632baff6bbb5004385998918f1e6bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa8632baff6bbb5004385998918f1e6bd">MQTT_PORT</a>&#160;&#160;&#160;1883</td></tr>
<tr class="memdesc:aa8632baff6bbb5004385998918f1e6bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">standard port used for the MQTT protocol  <a href="#aa8632baff6bbb5004385998918f1e6bd">More...</a><br/></td></tr>
<tr class="separator:aa8632baff6bbb5004385998918f1e6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a8a26f2f6a9e14484ae0efabe91c99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a87a8a26f2f6a9e14484ae0efabe91c99">TIME_HALF_A_SECOND</a>&#160;&#160;&#160;500</td></tr>
<tr class="memdesc:a87a8a26f2f6a9e14484ae0efabe91c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">definition of the timespan of half a second  <a href="#a87a8a26f2f6a9e14484ae0efabe91c99">More...</a><br/></td></tr>
<tr class="separator:a87a8a26f2f6a9e14484ae0efabe91c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01b3f2fe9f05e4ead3b1957d5402397"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af01b3f2fe9f05e4ead3b1957d5402397">TIME_QUARTER_SECOND</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:af01b3f2fe9f05e4ead3b1957d5402397"><td class="mdescLeft">&#160;</td><td class="mdescRight">definition of the timespan of a quarter of a second  <a href="#af01b3f2fe9f05e4ead3b1957d5402397">More...</a><br/></td></tr>
<tr class="separator:af01b3f2fe9f05e4ead3b1957d5402397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32448a40ca9e5dc0a62149d0f08bd5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ad32448a40ca9e5dc0a62149d0f08bd5f">TIME_EEPROM_WARNING</a>&#160;&#160;&#160;7000</td></tr>
<tr class="memdesc:ad32448a40ca9e5dc0a62149d0f08bd5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">definition of the time the LED stays on in case of an EEPROM warning (CRC failure, initialization, EEPROM incompatible)  <a href="#ad32448a40ca9e5dc0a62149d0f08bd5f">More...</a><br/></td></tr>
<tr class="separator:ad32448a40ca9e5dc0a62149d0f08bd5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5893eb38e4fe69dc2acd2f974fa5cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a5b5893eb38e4fe69dc2acd2f974fa5cb">CTR_MAX_TRIES_WIFI_CONNECTION</a>&#160;&#160;&#160;60</td></tr>
<tr class="memdesc:a5b5893eb38e4fe69dc2acd2f974fa5cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum amount of tries to connect to WIFI  <a href="#a5b5893eb38e4fe69dc2acd2f974fa5cb">More...</a><br/></td></tr>
<tr class="separator:a5b5893eb38e4fe69dc2acd2f974fa5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7399e3a75be0250095968af4f94757e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af7399e3a75be0250095968af4f94757e">EEPROM_length</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:af7399e3a75be0250095968af4f94757e"><td class="mdescLeft">&#160;</td><td class="mdescRight">EEPROM_length defines the maximum amount of bytes to be stored in the EEPROM. At the time of writing, the maximum amout of bytes to be stored is 4096.  <a href="#af7399e3a75be0250095968af4f94757e">More...</a><br/></td></tr>
<tr class="separator:af7399e3a75be0250095968af4f94757e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3109b452678c4716d01ff98ce34a2da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:aa3109b452678c4716d01ff98ce34a2da"><td class="mdescLeft">&#160;</td><td class="mdescRight">A CRC is calculated for the EEPROM values to ensure that the values are untempered. The address of the stored CRC is at the beginning of the EEPROM.  <a href="#aa3109b452678c4716d01ff98ce34a2da">More...</a><br/></td></tr>
<tr class="separator:aa3109b452678c4716d01ff98ce34a2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573ec4699f45eaca686a077e5881d66b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a573ec4699f45eaca686a077e5881d66b">EEPROM_version_number_address</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a573ec4699f45eaca686a077e5881d66b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This version number is stored in EEPROM. It must not be longer than one byte. The version number defined here and that one stored in EEPROM are compared against each other. In case the two numbers are not equal, the EEPROM is re-/initialized. This number must change, if you change the EEPROM layout, basically if you change adresses.  <a href="#a573ec4699f45eaca686a077e5881d66b">More...</a><br/></td></tr>
<tr class="separator:a573ec4699f45eaca686a077e5881d66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab384daae78d017828d89c6d9c697021a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ab384daae78d017828d89c6d9c697021a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The EEPROM version number is stored at this address.  <a href="#ab384daae78d017828d89c6d9c697021a">More...</a><br/></td></tr>
<tr class="separator:ab384daae78d017828d89c6d9c697021a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12bb22226c8f91f856f93ef2ddad3ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af12bb22226c8f91f856f93ef2ddad3ec">EEPROM_size_CRC</a>&#160;&#160;&#160;(sizeof(unsigned long))</td></tr>
<tr class="memdesc:af12bb22226c8f91f856f93ef2ddad3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">A CRC is calculated for the EEPROM values to ensure that the values are untempered. The size of the stored CRC is defined by this macro.  <a href="#af12bb22226c8f91f856f93ef2ddad3ec">More...</a><br/></td></tr>
<tr class="separator:af12bb22226c8f91f856f93ef2ddad3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e45a9ad8583fe2db7f42052e0a7ac95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4e45a9ad8583fe2db7f42052e0a7ac95">EEPROM_address_start</a>&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a> + <a class="el" href="WIFIOnOff_8ino.html#af12bb22226c8f91f856f93ef2ddad3ec">EEPROM_size_CRC</a>)</td></tr>
<tr class="memdesc:a4e45a9ad8583fe2db7f42052e0a7ac95"><td class="mdescLeft">&#160;</td><td class="mdescRight">A CRC is calculated for the EEPROM values to ensure that the values are untempered. The CRC takes some space to be stored in the EEPROM. The start address takes this into account.  <a href="#a4e45a9ad8583fe2db7f42052e0a7ac95">More...</a><br/></td></tr>
<tr class="separator:a4e45a9ad8583fe2db7f42052e0a7ac95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c93cd8175c0a438c20922e313645bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a06c93cd8175c0a438c20922e313645bd">EEPROM_enabled</a>&#160;&#160;&#160;0xEB</td></tr>
<tr class="memdesc:a06c93cd8175c0a438c20922e313645bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this magic number is set, a defined functionality is enabled.  <a href="#a06c93cd8175c0a438c20922e313645bd">More...</a><br/></td></tr>
<tr class="separator:a06c93cd8175c0a438c20922e313645bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fbf1b754b9209b6bdd4ebcb0c3e677"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a11fbf1b754b9209b6bdd4ebcb0c3e677">EEPROM_enabled_size</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a11fbf1b754b9209b6bdd4ebcb0c3e677"><td class="mdescLeft">&#160;</td><td class="mdescRight">The amount of storage needed by <a class="el" href="WIFIOnOff_8ino.html#a06c93cd8175c0a438c20922e313645bd">EEPROM_enabled</a> in EEPROM.  <a href="#a11fbf1b754b9209b6bdd4ebcb0c3e677">More...</a><br/></td></tr>
<tr class="separator:a11fbf1b754b9209b6bdd4ebcb0c3e677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6912b1d0bb01613405a6827632e6d6f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a6912b1d0bb01613405a6827632e6d6f4">EEPROM_init_value</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:a6912b1d0bb01613405a6827632e6d6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an init value is set, a defined functionality is disabled. The init value is also used to initialize the EEPROM in <a class="el" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i...">setupEEPROM()</a>.  <a href="#a6912b1d0bb01613405a6827632e6d6f4">More...</a><br/></td></tr>
<tr class="separator:a6912b1d0bb01613405a6827632e6d6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bdfcba39f823c70e99abea4dc16ffb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ad4bdfcba39f823c70e99abea4dc16ffb">EEPROM_address_WPS_configured</a>&#160;&#160;&#160;<a class="el" href="WIFIOnOff_8ino.html#a4e45a9ad8583fe2db7f42052e0a7ac95">EEPROM_address_start</a></td></tr>
<tr class="memdesc:ad4bdfcba39f823c70e99abea4dc16ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">WPS is the only choice to connect to WIFI. This shall improve usability. The state of WPS is stored in EEPROM at this address. The value 0x00 was chosen as it terminates Strings, which leads to perfect default data.  <a href="#ad4bdfcba39f823c70e99abea4dc16ffb">More...</a><br/></td></tr>
<tr class="separator:ad4bdfcba39f823c70e99abea4dc16ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604b9f83bce537df8060d5bb69480c76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a604b9f83bce537df8060d5bb69480c76">EEPROM_address_MQTT_server_configured</a>&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#ad4bdfcba39f823c70e99abea4dc16ffb">EEPROM_address_WPS_configured</a> + <a class="el" href="WIFIOnOff_8ino.html#a11fbf1b754b9209b6bdd4ebcb0c3e677">EEPROM_enabled_size</a>)</td></tr>
<tr class="memdesc:a604b9f83bce537df8060d5bb69480c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flag is used to check whether <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a> has already been initialized with the value of the MQTT-Server (DNS name or IP)  <a href="#a604b9f83bce537df8060d5bb69480c76">More...</a><br/></td></tr>
<tr class="separator:a604b9f83bce537df8060d5bb69480c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6dd801239610f299da096ea9b87383"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#add6dd801239610f299da096ea9b87383">EEPROM_address_MQTT_server</a>&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#a604b9f83bce537df8060d5bb69480c76">EEPROM_address_MQTT_server_configured</a> + <a class="el" href="WIFIOnOff_8ino.html#a11fbf1b754b9209b6bdd4ebcb0c3e677">EEPROM_enabled_size</a>)</td></tr>
<tr class="memdesc:add6dd801239610f299da096ea9b87383"><td class="mdescLeft">&#160;</td><td class="mdescRight">The variable <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a> which contains the value of the MQTT-Server (DNS name or IP) is restored after startup from EEPROM, if MQTT is configured (<a class="el" href="WIFIOnOff_8ino.html#a604b9f83bce537df8060d5bb69480c76">EEPROM_address_MQTT_server_configured</a>). The stored bytes can be found at this address.  <a href="#add6dd801239610f299da096ea9b87383">More...</a><br/></td></tr>
<tr class="separator:add6dd801239610f299da096ea9b87383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac060eafb02eba00d33cad29f38819d4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ac060eafb02eba00d33cad29f38819d4a">EEPROM_size_MQTT_server</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:ac060eafb02eba00d33cad29f38819d4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum amount of bytes used to store the MQTT server address. This address can be either an IP or a DNS name. DNS names are restricted to 255 octets. As a string is zero-terminated, one byte more is used. For more information, look at RFC 1035.  <a href="#ac060eafb02eba00d33cad29f38819d4a">More...</a><br/></td></tr>
<tr class="separator:ac060eafb02eba00d33cad29f38819d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a16ef77fe42b6e5a700dd2445f0aaa24f"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f">calculate_crc</a> ()</td></tr>
<tr class="memdesc:a16ef77fe42b6e5a700dd2445f0aaa24f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates a CRC checksum for the EEPROM. It is taken from: <a href="https://www.arduino.cc/en/Tutorial/EEPROMCrc">https://www.arduino.cc/en/Tutorial/EEPROMCrc</a>.  <a href="#a16ef77fe42b6e5a700dd2445f0aaa24f">More...</a><br/></td></tr>
<tr class="separator:a16ef77fe42b6e5a700dd2445f0aaa24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd9db8c49797d8536247d1fba49cfe7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7">storeCRC</a> ()</td></tr>
<tr class="memdesc:a1dd9db8c49797d8536247d1fba49cfe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the CRC value of the values in the EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. ">calculate_crc()</a>. The resulting CRC checksum is written to <a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a>. The caller must still call EEPROM.commit() afterwards to really trigger a write to EEPROM.  <a href="#a1dd9db8c49797d8536247d1fba49cfe7">More...</a><br/></td></tr>
<tr class="separator:a1dd9db8c49797d8536247d1fba49cfe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ac0ebe45e95ee7e439f2aeea333124"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124">retrieveCRC</a> ()</td></tr>
<tr class="memdesc:a80ac0ebe45e95ee7e439f2aeea333124"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the CRC value stored at <a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a>.  <a href="#a80ac0ebe45e95ee7e439f2aeea333124">More...</a><br/></td></tr>
<tr class="separator:a80ac0ebe45e95ee7e439f2aeea333124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeada0076ef68a04f4794f91e727ae5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aeeada0076ef68a04f4794f91e727ae5a">checkCRC</a> ()</td></tr>
<tr class="memdesc:aeeada0076ef68a04f4794f91e727ae5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the CRC value for the bytes stored in the EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. ">calculate_crc()</a> and compares the result to the CRC which was read from EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124" title="This function reads the CRC value stored at EEPROM_address_CRC. ">retrieveCRC()</a>.  <a href="#aeeada0076ef68a04f4794f91e727ae5a">More...</a><br/></td></tr>
<tr class="separator:aeeada0076ef68a04f4794f91e727ae5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e14ea51750122bd7a906b9dcf896c53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53">storeEEPROMVersionNumber</a> ()</td></tr>
<tr class="memdesc:a6e14ea51750122bd7a906b9dcf896c53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stores the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a> in EEPROM.  <a href="#a6e14ea51750122bd7a906b9dcf896c53">More...</a><br/></td></tr>
<tr class="separator:a6e14ea51750122bd7a906b9dcf896c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd23421ffd3823e5dafd4205f499fd2c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#afd23421ffd3823e5dafd4205f499fd2c">checkEEPROMVersionNumber</a> ()</td></tr>
<tr class="memdesc:afd23421ffd3823e5dafd4205f499fd2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a> stored in EEPROM against the version number required by the latest EEPROM layout.  <a href="#afd23421ffd3823e5dafd4205f499fd2c">More...</a><br/></td></tr>
<tr class="separator:afd23421ffd3823e5dafd4205f499fd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accde2e704135909387a34453e0dc1293"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293">initEEPROM</a> ()</td></tr>
<tr class="memdesc:accde2e704135909387a34453e0dc1293"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function writes default data (<a class="el" href="WIFIOnOff_8ino.html#a6912b1d0bb01613405a6827632e6d6f4">EEPROM_init_value</a>) to EEPROM and stores CRC and the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a>.  <a href="#accde2e704135909387a34453e0dc1293">More...</a><br/></td></tr>
<tr class="separator:accde2e704135909387a34453e0dc1293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5cf434e34fce7db249185369616a32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32">setupEEPROM</a> ()</td></tr>
<tr class="memdesc:a3d5cf434e34fce7db249185369616a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with init values. The CRC check makes only sense at initialization phase. Afterwards, the data is buffered by EEPROM lib in RAM.  <a href="#a3d5cf434e34fce7db249185369616a32">More...</a><br/></td></tr>
<tr class="separator:a3d5cf434e34fce7db249185369616a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a76f6c6d6e85f2215f0451b12f1db54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54">switchOffLED</a> ()</td></tr>
<tr class="memdesc:a6a76f6c6d6e85f2215f0451b12f1db54"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to switch the LED off. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>.  <a href="#a6a76f6c6d6e85f2215f0451b12f1db54">More...</a><br/></td></tr>
<tr class="separator:a6a76f6c6d6e85f2215f0451b12f1db54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46be1cdf6842e46fb3ba46a60f024aa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0">switchOnLED</a> ()</td></tr>
<tr class="memdesc:a46be1cdf6842e46fb3ba46a60f024aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to switch the LED on. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>.  <a href="#a46be1cdf6842e46fb3ba46a60f024aa0">More...</a><br/></td></tr>
<tr class="separator:a46be1cdf6842e46fb3ba46a60f024aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf97294d049f17c3eef4add9a4df1ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec">toggleLED</a> ()</td></tr>
<tr class="memdesc:aeaf97294d049f17c3eef4add9a4df1ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to toggle the LED. Indirectly, it keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>.  <a href="#aeaf97294d049f17c3eef4add9a4df1ec">More...</a><br/></td></tr>
<tr class="separator:aeaf97294d049f17c3eef4add9a4df1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4164c2bb2661c7427bd66ecd2f8aace"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace">getStateLEDOn</a> ()</td></tr>
<tr class="memdesc:af4164c2bb2661c7427bd66ecd2f8aace"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to get the state of the LED. It returns <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>.  <a href="#af4164c2bb2661c7427bd66ecd2f8aace">More...</a><br/></td></tr>
<tr class="separator:af4164c2bb2661c7427bd66ecd2f8aace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43969e915aec75ff3f318d585e0606a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a">feedbackEEPROMInit</a> ()</td></tr>
<tr class="memdesc:af43969e915aec75ff3f318d585e0606a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to give the user feedback that the EEPROM has been re-/initialized. This means that all the user-entered data is gone and the device needs to be reconfigured.  <a href="#af43969e915aec75ff3f318d585e0606a">More...</a><br/></td></tr>
<tr class="separator:af43969e915aec75ff3f318d585e0606a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed631ac5d7f4338966a6a187e1057258"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258">feedbackQuickBlink</a> ()</td></tr>
<tr class="memdesc:aed631ac5d7f4338966a6a187e1057258"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the <a class="el" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()-events, the user can determine which menu is selected, when the button is released now. ">feedbackQuickBlink()</a>-events, the user can determine which menu is selected, when the button is released now.  <a href="#aed631ac5d7f4338966a6a187e1057258">More...</a><br/></td></tr>
<tr class="separator:aed631ac5d7f4338966a6a187e1057258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d61ce203f552333381a79f4993da69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69">feedbackWIFIisConnecting</a> ()</td></tr>
<tr class="memdesc:a29d61ce203f552333381a79f4993da69"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to give the user feedback that WIFI is about to connect. It will blink at a medium rate.  <a href="#a29d61ce203f552333381a79f4993da69">More...</a><br/></td></tr>
<tr class="separator:a29d61ce203f552333381a79f4993da69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347d10bac439b6c073df93cbf5522f28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a347d10bac439b6c073df93cbf5522f28">getUserActionFeedbackRequest</a> ()</td></tr>
<tr class="memdesc:a347d10bac439b6c073df93cbf5522f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>.  <a href="#a347d10bac439b6c073df93cbf5522f28">More...</a><br/></td></tr>
<tr class="separator:a347d10bac439b6c073df93cbf5522f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0185fd92dbcb609528b98244ee37430c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0185fd92dbcb609528b98244ee37430c">setUserActionFeedbackRequest</a> ()</td></tr>
<tr class="memdesc:a0185fd92dbcb609528b98244ee37430c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>. The user should be notified that a menu can be selected.  <a href="#a0185fd92dbcb609528b98244ee37430c">More...</a><br/></td></tr>
<tr class="separator:a0185fd92dbcb609528b98244ee37430c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f07f10222db3144a4a271ddcb81cdde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a2f07f10222db3144a4a271ddcb81cdde">unsetUserActionFeedbackRequest</a> ()</td></tr>
<tr class="memdesc:a2f07f10222db3144a4a271ddcb81cdde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>. The user has been notified that a menu can be selected.  <a href="#a2f07f10222db3144a4a271ddcb81cdde">More...</a><br/></td></tr>
<tr class="separator:a2f07f10222db3144a4a271ddcb81cdde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed5532c3a832fa15a2865ee80cbfdda"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a7ed5532c3a832fa15a2865ee80cbfdda">checkWiFiConfigured</a> ()</td></tr>
<tr class="memdesc:a7ed5532c3a832fa15a2865ee80cbfdda"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks whether WPS has already been performed once. In this case, one can directly connect to WiFi.  <a href="#a7ed5532c3a832fa15a2865ee80cbfdda">More...</a><br/></td></tr>
<tr class="separator:a7ed5532c3a832fa15a2865ee80cbfdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebcee2a9d20137810223c6813e54787"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787">setWiFiConfigured</a> ()</td></tr>
<tr class="memdesc:a3ebcee2a9d20137810223c6813e54787"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is a setter function which sets WiFi to configured, which means that WPS has already been performed successfully. This function is only called in <a class="el" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and...">performWPS()</a>. The configuration is saved to EEPROM.  <a href="#a3ebcee2a9d20137810223c6813e54787">More...</a><br/></td></tr>
<tr class="separator:a3ebcee2a9d20137810223c6813e54787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac782bcb28cf6c4cf77d8a408fe02c2f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9">unsetWiFiConfigured</a> ()</td></tr>
<tr class="memdesc:ac782bcb28cf6c4cf77d8a408fe02c2f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is a setter function which sets WiFi to not configured, which means that WPS is necessary before connecting to WIFI. The configuration is saved to EEPROM.  <a href="#ac782bcb28cf6c4cf77d8a408fe02c2f9">More...</a><br/></td></tr>
<tr class="separator:ac782bcb28cf6c4cf77d8a408fe02c2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51eb2a71952e54dba6130be21b3a1d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7">performWPS</a> ()</td></tr>
<tr class="memdesc:aa51eb2a71952e54dba6130be21b3a1d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to trigger WPS. If WPS has been successful, <a class="el" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be...">setWiFiConfigured()</a> is executed and <a class="el" href="WIFIOnOff_8ino.html#a86eebd69aeee5bbb5e648fc099b4b360" title="Setter function to unset wpsRequested. ">unsetWPSRequest()</a> is called.  <a href="#aa51eb2a71952e54dba6130be21b3a1d7">More...</a><br/></td></tr>
<tr class="separator:aa51eb2a71952e54dba6130be21b3a1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688bc5c57984763646a5dd2f72943255"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a688bc5c57984763646a5dd2f72943255">getClientID</a> ()</td></tr>
<tr class="memdesc:a688bc5c57984763646a5dd2f72943255"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the client name used for MQTT, see <a class="el" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. ">mqttConnect()</a>.  <a href="#a688bc5c57984763646a5dd2f72943255">More...</a><br/></td></tr>
<tr class="separator:a688bc5c57984763646a5dd2f72943255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31eed9b3718a60b96c1fea76590a3fc5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5">connectToWiFi</a> ()</td></tr>
<tr class="memdesc:a31eed9b3718a60b96c1fea76590a3fc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tries to connect to WIFI.  <a href="#a31eed9b3718a60b96c1fea76590a3fc5">More...</a><br/></td></tr>
<tr class="separator:a31eed9b3718a60b96c1fea76590a3fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61ca7b9fb98de7d85d230a82ea7de28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa61ca7b9fb98de7d85d230a82ea7de28">setupMDNS</a> ()</td></tr>
<tr class="memdesc:aa61ca7b9fb98de7d85d230a82ea7de28"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets up MDNS.  <a href="#aa61ca7b9fb98de7d85d230a82ea7de28">More...</a><br/></td></tr>
<tr class="separator:aa61ca7b9fb98de7d85d230a82ea7de28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0fb4debe9d6029fd560490e0d89062"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a7e0fb4debe9d6029fd560490e0d89062">checkWiFiConnected</a> ()</td></tr>
<tr class="memdesc:a7e0fb4debe9d6029fd560490e0d89062"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks whether WIFI is connected.  <a href="#a7e0fb4debe9d6029fd560490e0d89062">More...</a><br/></td></tr>
<tr class="separator:a7e0fb4debe9d6029fd560490e0d89062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3361cdf5888fc635d5ae5d83747d50d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3361cdf5888fc635d5ae5d83747d50d6">getWPSRequest</a> ()</td></tr>
<tr class="memdesc:a3361cdf5888fc635d5ae5d83747d50d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>.  <a href="#a3361cdf5888fc635d5ae5d83747d50d6">More...</a><br/></td></tr>
<tr class="separator:a3361cdf5888fc635d5ae5d83747d50d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86eebd69aeee5bbb5e648fc099b4b360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a86eebd69aeee5bbb5e648fc099b4b360">unsetWPSRequest</a> ()</td></tr>
<tr class="memdesc:a86eebd69aeee5bbb5e648fc099b4b360"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to unset <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>.  <a href="#a86eebd69aeee5bbb5e648fc099b4b360">More...</a><br/></td></tr>
<tr class="separator:a86eebd69aeee5bbb5e648fc099b4b360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a784e9ea129440dd303530ab9e97a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af2a784e9ea129440dd303530ab9e97a1">setWPSRequest</a> ()</td></tr>
<tr class="memdesc:af2a784e9ea129440dd303530ab9e97a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>.  <a href="#af2a784e9ea129440dd303530ab9e97a1">More...</a><br/></td></tr>
<tr class="separator:af2a784e9ea129440dd303530ab9e97a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79761488d06c15b10258afefb215020"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa79761488d06c15b10258afefb215020">getWifiResetRequested</a> ()</td></tr>
<tr class="memdesc:aa79761488d06c15b10258afefb215020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>.  <a href="#aa79761488d06c15b10258afefb215020">More...</a><br/></td></tr>
<tr class="separator:aa79761488d06c15b10258afefb215020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359226c1dba04041902ec5451ada2aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a359226c1dba04041902ec5451ada2aae">setWifiResetRequested</a> ()</td></tr>
<tr class="memdesc:a359226c1dba04041902ec5451ada2aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>.  <a href="#a359226c1dba04041902ec5451ada2aae">More...</a><br/></td></tr>
<tr class="separator:a359226c1dba04041902ec5451ada2aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e963d26058822266a054c999cf33ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0e963d26058822266a054c999cf33ece">unsetWifiResetRequested</a> ()</td></tr>
<tr class="memdesc:a0e963d26058822266a054c999cf33ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to unsset <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>.  <a href="#a0e963d26058822266a054c999cf33ece">More...</a><br/></td></tr>
<tr class="separator:a0e963d26058822266a054c999cf33ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae850a8f5a550a31d8433eddf41a11d44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44">disconnectRelay</a> ()</td></tr>
<tr class="memdesc:ae850a8f5a550a31d8433eddf41a11d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to disconnect the relay from the mains. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>.  <a href="#ae850a8f5a550a31d8433eddf41a11d44">More...</a><br/></td></tr>
<tr class="separator:ae850a8f5a550a31d8433eddf41a11d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eda13f766d5d36ba8bcbe7c252c2ab8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8">connectRelay</a> ()</td></tr>
<tr class="memdesc:a6eda13f766d5d36ba8bcbe7c252c2ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to connect the relay to the mains. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>.  <a href="#a6eda13f766d5d36ba8bcbe7c252c2ab8">More...</a><br/></td></tr>
<tr class="separator:a6eda13f766d5d36ba8bcbe7c252c2ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefabc9bd763a51753669e6c249140abc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc">getStateRelayConnected</a> ()</td></tr>
<tr class="memdesc:aefabc9bd763a51753669e6c249140abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to get the connection state of the relay with the mains. It returns <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>.  <a href="#aefabc9bd763a51753669e6c249140abc">More...</a><br/></td></tr>
<tr class="separator:aefabc9bd763a51753669e6c249140abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d92a759a6fa273c581f3fa4243fa1d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9">toggleRelay</a> ()</td></tr>
<tr class="memdesc:a2d92a759a6fa273c581f3fa4243fa1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>.  <a href="#a2d92a759a6fa273c581f3fa4243fa1d9">More...</a><br/></td></tr>
<tr class="separator:a2d92a759a6fa273c581f3fa4243fa1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7676f0d3c07948850fd833023d7783"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4b7676f0d3c07948850fd833023d7783">configureOutputs</a> ()</td></tr>
<tr class="memdesc:a4b7676f0d3c07948850fd833023d7783"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures the output pins of the microcontroller.  <a href="#a4b7676f0d3c07948850fd833023d7783">More...</a><br/></td></tr>
<tr class="separator:a4b7676f0d3c07948850fd833023d7783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec8a91d3b174c2cfee9eaf852f11c1e"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1ec8a91d3b174c2cfee9eaf852f11c1e">renderHeader</a> ()</td></tr>
<tr class="memdesc:a1ec8a91d3b174c2cfee9eaf852f11c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the first part of a HTML file which is reused for all responses.  <a href="#a1ec8a91d3b174c2cfee9eaf852f11c1e">More...</a><br/></td></tr>
<tr class="separator:a1ec8a91d3b174c2cfee9eaf852f11c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9dd84a6d6ca1ea206f310605cc049d"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1c9dd84a6d6ca1ea206f310605cc049d">renderRelay</a> (bool <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>)</td></tr>
<tr class="memdesc:a1c9dd84a6d6ca1ea206f310605cc049d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the middle part of a HTML file to.  <a href="#a1c9dd84a6d6ca1ea206f310605cc049d">More...</a><br/></td></tr>
<tr class="separator:a1c9dd84a6d6ca1ea206f310605cc049d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dfcb1cefe2bee38d172e3f327c1a72d"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4dfcb1cefe2bee38d172e3f327c1a72d">renderMQTTServerSettings</a> (String storedServerName, String failureMsg, bool stateMQTTActivated, bool stateMQTTConnected)</td></tr>
<tr class="memdesc:a4dfcb1cefe2bee38d172e3f327c1a72d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the middle part of a HTML file to.  <a href="#a4dfcb1cefe2bee38d172e3f327c1a72d">More...</a><br/></td></tr>
<tr class="separator:a4dfcb1cefe2bee38d172e3f327c1a72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a8bd3c3a1288633c3eade6ee8e77cf"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a12a8bd3c3a1288633c3eade6ee8e77cf">renderFooter</a> ()</td></tr>
<tr class="memdesc:a12a8bd3c3a1288633c3eade6ee8e77cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the last part of a HTML file which is reused for all responses.  <a href="#a12a8bd3c3a1288633c3eade6ee8e77cf">More...</a><br/></td></tr>
<tr class="separator:a12a8bd3c3a1288633c3eade6ee8e77cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab913592c54bd79feda56cbdc86f44641"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641">mqttControlRelay</a> (String &amp;topic, String &amp;payload)</td></tr>
<tr class="memdesc:ab913592c54bd79feda56cbdc86f44641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback which is called when MQTT receives an incoming topic.  <a href="#ab913592c54bd79feda56cbdc86f44641">More...</a><br/></td></tr>
<tr class="separator:ab913592c54bd79feda56cbdc86f44641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42318ba7ac1f636b3bd64bf83a99dee2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a42318ba7ac1f636b3bd64bf83a99dee2">restoreMQTTConfigurationFromEEPROM</a> ()</td></tr>
<tr class="memdesc:a42318ba7ac1f636b3bd64bf83a99dee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read back MQTT server / broker name from EEPROM and store it in global variable <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>. Read back whether MQTT is configured and store it in global variable <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>.  <a href="#a42318ba7ac1f636b3bd64bf83a99dee2">More...</a><br/></td></tr>
<tr class="separator:a42318ba7ac1f636b3bd64bf83a99dee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006d783b06cfbafe0c614692c894e2ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a006d783b06cfbafe0c614692c894e2ec">saveMQTTConfigurationToEEPROM</a> ()</td></tr>
<tr class="memdesc:a006d783b06cfbafe0c614692c894e2ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store MQTT server / broker name (<a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>) and state (configured or not, <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>) in EEPROM.  <a href="#a006d783b06cfbafe0c614692c894e2ec">More...</a><br/></td></tr>
<tr class="separator:a006d783b06cfbafe0c614692c894e2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a04a0e88b0687b8c017addfed120950"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950">configureMQTT</a> ()</td></tr>
<tr class="memdesc:a3a04a0e88b0687b8c017addfed120950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure new MQTT server / broker. This will.  <a href="#a3a04a0e88b0687b8c017addfed120950">More...</a><br/></td></tr>
<tr class="separator:a3a04a0e88b0687b8c017addfed120950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104eb4efa9523edca8048af6e38d235f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f">setMQTTServer</a> (String input)</td></tr>
<tr class="memdesc:a104eb4efa9523edca8048af6e38d235f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for MQTT server / broker <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>.  <a href="#a104eb4efa9523edca8048af6e38d235f">More...</a><br/></td></tr>
<tr class="separator:a104eb4efa9523edca8048af6e38d235f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0914c7b7faa1375475836dc6115f1077"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0914c7b7faa1375475836dc6115f1077">getMQTTServer</a> ()</td></tr>
<tr class="memdesc:a0914c7b7faa1375475836dc6115f1077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for MQTT server / broker <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>.  <a href="#a0914c7b7faa1375475836dc6115f1077">More...</a><br/></td></tr>
<tr class="separator:a0914c7b7faa1375475836dc6115f1077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad359baa91c446e57ccd6d77ebf49b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d">setStateMQTTConfigured</a> (bool input)</td></tr>
<tr class="memdesc:aad359baa91c446e57ccd6d77ebf49b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>.  <a href="#aad359baa91c446e57ccd6d77ebf49b5d">More...</a><br/></td></tr>
<tr class="separator:aad359baa91c446e57ccd6d77ebf49b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc46fe517d2d628cdf59870d4f09060c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#afc46fe517d2d628cdf59870d4f09060c">getStateMQTTConfigured</a> ()</td></tr>
<tr class="memdesc:afc46fe517d2d628cdf59870d4f09060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>.  <a href="#afc46fe517d2d628cdf59870d4f09060c">More...</a><br/></td></tr>
<tr class="separator:afc46fe517d2d628cdf59870d4f09060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ae153af75c3844e61d4cd39be0b9d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a26ae153af75c3844e61d4cd39be0b9d9">setMQTTOutgoingTopic</a> (String input)</td></tr>
<tr class="memdesc:a26ae153af75c3844e61d4cd39be0b9d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for <a class="el" href="WIFIOnOff_8ino.html#a2311f2b74fe46d3f9e8072b3694deee5">mqttOutgoingTopic</a>.  <a href="#a26ae153af75c3844e61d4cd39be0b9d9">More...</a><br/></td></tr>
<tr class="separator:a26ae153af75c3844e61d4cd39be0b9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b654456d82f73760cda8b83c5a0ca6"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6">getMQTTOutgoingTopic</a> ()</td></tr>
<tr class="memdesc:a92b654456d82f73760cda8b83c5a0ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a2311f2b74fe46d3f9e8072b3694deee5">mqttOutgoingTopic</a>.  <a href="#a92b654456d82f73760cda8b83c5a0ca6">More...</a><br/></td></tr>
<tr class="separator:a92b654456d82f73760cda8b83c5a0ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4beec40a2400bae93ac3aa8e2f701d13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4beec40a2400bae93ac3aa8e2f701d13">setMQTTIncomingTopic</a> (String input)</td></tr>
<tr class="memdesc:a4beec40a2400bae93ac3aa8e2f701d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function for <a class="el" href="WIFIOnOff_8ino.html#a686cf2365a7075bc5f72d01c99b3a9f2">mqttIncomingTopic</a>.  <a href="#a4beec40a2400bae93ac3aa8e2f701d13">More...</a><br/></td></tr>
<tr class="separator:a4beec40a2400bae93ac3aa8e2f701d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5189bf4d6c6b3d4a90bf76335456740"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740">checkMQTTConnected</a> ()</td></tr>
<tr class="memdesc:af5189bf4d6c6b3d4a90bf76335456740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get MQTT connection state.  <a href="#af5189bf4d6c6b3d4a90bf76335456740">More...</a><br/></td></tr>
<tr class="separator:af5189bf4d6c6b3d4a90bf76335456740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad5cb858c24c53a6eaa846b713bd120"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120">mqttConnect</a> ()</td></tr>
<tr class="memdesc:a9ad5cb858c24c53a6eaa846b713bd120"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function connects to broker and.  <a href="#a9ad5cb858c24c53a6eaa846b713bd120">More...</a><br/></td></tr>
<tr class="separator:a9ad5cb858c24c53a6eaa846b713bd120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e8e72a8c9bd699aefa63b65c4bc30c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c">mqttPublish</a> ()</td></tr>
<tr class="memdesc:a92e8e72a8c9bd699aefa63b65c4bc30c"><td class="mdescLeft">&#160;</td><td class="mdescRight">With the call of this function, <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> publishes the state of the relay (<a class="el" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC...">getStateRelayConnected()</a>) on the outgoing topic (<a class="el" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. ">getMQTTOutgoingTopic()</a>) to the MQTT server / broker. The macro <a class="el" href="WIFIOnOff_8ino.html#a59912dabf54ca43542cdc292e80d5742">NUMERIC_RESPONSE</a> is taken into account.  <a href="#a92e8e72a8c9bd699aefa63b65c4bc30c">More...</a><br/></td></tr>
<tr class="separator:a92e8e72a8c9bd699aefa63b65c4bc30c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3523db85b2f83ce089a2a733d7a025ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3523db85b2f83ce089a2a733d7a025ad">isNotWhitelisted</a> (char c)</td></tr>
<tr class="memdesc:a3523db85b2f83ce089a2a733d7a025ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used for filtering out XSS attacks. This is done by whitelisting.  <a href="#a3523db85b2f83ce089a2a733d7a025ad">More...</a><br/></td></tr>
<tr class="separator:a3523db85b2f83ce089a2a733d7a025ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3251df1e6168789bae584b4063d5a59d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3251df1e6168789bae584b4063d5a59d">mqttServerValid</a> (String <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>)</td></tr>
<tr class="memdesc:a3251df1e6168789bae584b4063d5a59d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to check whether mqttServer is valid. Therefore, it is checked that the.  <a href="#a3251df1e6168789bae584b4063d5a59d">More...</a><br/></td></tr>
<tr class="separator:a3251df1e6168789bae584b4063d5a59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50409543b7c4c4fb48e60ec35fbda3f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3">configureWebServer</a> ()</td></tr>
<tr class="memdesc:a50409543b7c4c4fb48e60ec35fbda3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used configure the webserver. The webserver is configured by defining callback functions for handling incoming requests on.  <a href="#a50409543b7c4c4fb48e60ec35fbda3f3">More...</a><br/></td></tr>
<tr class="separator:a50409543b7c4c4fb48e60ec35fbda3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec1c2962185272a8c87843f95d205ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad">performFactoryReset</a> ()</td></tr>
<tr class="memdesc:afec1c2962185272a8c87843f95d205ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform factory reset.  <a href="#afec1c2962185272a8c87843f95d205ad">More...</a><br/></td></tr>
<tr class="separator:afec1c2962185272a8c87843f95d205ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9603214a47595af27b6e16f635734d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3e9603214a47595af27b6e16f635734d">getFactoryResetRequested</a> ()</td></tr>
<tr class="memdesc:a3e9603214a47595af27b6e16f635734d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>.  <a href="#a3e9603214a47595af27b6e16f635734d">More...</a><br/></td></tr>
<tr class="separator:a3e9603214a47595af27b6e16f635734d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974b42331b531d9c0ec0d5be4d745078"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a974b42331b531d9c0ec0d5be4d745078">setFactoryResetRequested</a> ()</td></tr>
<tr class="memdesc:a974b42331b531d9c0ec0d5be4d745078"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>.  <a href="#a974b42331b531d9c0ec0d5be4d745078">More...</a><br/></td></tr>
<tr class="separator:a974b42331b531d9c0ec0d5be4d745078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da84f44cf0a8afe3ad725de0cae4c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1da84f44cf0a8afe3ad725de0cae4c19">unsetFactoryResetRequested</a> ()</td></tr>
<tr class="memdesc:a1da84f44cf0a8afe3ad725de0cae4c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter function to unset <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>.  <a href="#a1da84f44cf0a8afe3ad725de0cae4c19">More...</a><br/></td></tr>
<tr class="separator:a1da84f44cf0a8afe3ad725de0cae4c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4d58af93c899ee9a03131727b1cf34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34">pressHandler</a> ()</td></tr>
<tr class="memdesc:acd4d58af93c899ee9a03131727b1cf34"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function triggers.  <a href="#acd4d58af93c899ee9a03131727b1cf34">More...</a><br/></td></tr>
<tr class="separator:acd4d58af93c899ee9a03131727b1cf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f">setup</a> (void)</td></tr>
<tr class="memdesc:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed once at the startup of the microcontroller.  <a href="#a7dfd9b79bc5a37d7df40207afbc5431f">More...</a><br/></td></tr>
<tr class="separator:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f">loop</a> (void)</td></tr>
<tr class="memdesc:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed in a loop after <a class="el" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. ">setup(void)</a> has been called.  <a href="#a0b33edabd7f1c4e4a0bf32c67269be2f">More...</a><br/></td></tr>
<tr class="separator:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac4144c663334d0f32b58e62981300160"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#ac4144c663334d0f32b58e62981300160">REPOSITORY_URL_STRING</a> = &quot;https://github.com/peastone/WIFIOnOff&quot;</td></tr>
<tr class="memdesc:ac4144c663334d0f32b58e62981300160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a link to the code repository which is embedded in the rendered HTML files in the function <a class="el" href="WIFIOnOff_8ino.html#a12a8bd3c3a1288633c3eade6ee8e77cf" title="This function returns the last part of a HTML file which is reused for all responses. ">renderFooter()</a>.  <a href="#ac4144c663334d0f32b58e62981300160">More...</a><br/></td></tr>
<tr class="separator:ac4144c663334d0f32b58e62981300160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea49499f7c0ed08f20649e96024455ab"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aea49499f7c0ed08f20649e96024455ab">pinLED</a> = 13</td></tr>
<tr class="memdesc:aea49499f7c0ed08f20649e96024455ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant to map the green LED of the Sonoff S20.  <a href="#aea49499f7c0ed08f20649e96024455ab">More...</a><br/></td></tr>
<tr class="separator:aea49499f7c0ed08f20649e96024455ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ef40baec048d45fac1d51afc521d40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a> = false</td></tr>
<tr class="memdesc:aa1ef40baec048d45fac1d51afc521d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the LED is on.  <a href="#aa1ef40baec048d45fac1d51afc521d40">More...</a><br/></td></tr>
<tr class="separator:aa1ef40baec048d45fac1d51afc521d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5c7c27259449622535aee1125f275a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a> = false</td></tr>
<tr class="memdesc:a3e5c7c27259449622535aee1125f275a"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the user should be notified that a menu can be selected by releasing the button.  <a href="#a3e5c7c27259449622535aee1125f275a">More...</a><br/></td></tr>
<tr class="separator:a3e5c7c27259449622535aee1125f275a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f7c60366b0a82c42d7a1dbf4e9505a"><td class="memItemLeft" align="right" valign="top">WiFiClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a64f7c60366b0a82c42d7a1dbf4e9505a">wifiClient</a></td></tr>
<tr class="memdesc:a64f7c60366b0a82c42d7a1dbf4e9505a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Necessary to initialize a MQTTClient object.  <a href="#a64f7c60366b0a82c42d7a1dbf4e9505a">More...</a><br/></td></tr>
<tr class="separator:a64f7c60366b0a82c42d7a1dbf4e9505a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002d6cec57f207948ee9f62a3fbc12fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a> = false</td></tr>
<tr class="memdesc:a002d6cec57f207948ee9f62a3fbc12fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the WPS has been requested.  <a href="#a002d6cec57f207948ee9f62a3fbc12fe">More...</a><br/></td></tr>
<tr class="separator:a002d6cec57f207948ee9f62a3fbc12fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef1b3b96ca3b7c432a5c202037bcd43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a> = false</td></tr>
<tr class="memdesc:a1ef1b3b96ca3b7c432a5c202037bcd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the deletion of WIFI data has been requested.  <a href="#a1ef1b3b96ca3b7c432a5c202037bcd43">More...</a><br/></td></tr>
<tr class="separator:a1ef1b3b96ca3b7c432a5c202037bcd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a5ee80a30c37768bf1e198f1ee5692"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a> = false</td></tr>
<tr class="memdesc:a48a5ee80a30c37768bf1e198f1ee5692"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the LED is connected to the mains.  <a href="#a48a5ee80a30c37768bf1e198f1ee5692">More...</a><br/></td></tr>
<tr class="separator:a48a5ee80a30c37768bf1e198f1ee5692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4021c86d826785a0f0bcac11a38d30e"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#aa4021c86d826785a0f0bcac11a38d30e">pinRelay</a> = 12</td></tr>
<tr class="memdesc:aa4021c86d826785a0f0bcac11a38d30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant to map the relay of the Sonoff S20.  <a href="#aa4021c86d826785a0f0bcac11a38d30e">More...</a><br/></td></tr>
<tr class="separator:aa4021c86d826785a0f0bcac11a38d30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0524591f2a058a4f26f16579245db356"><td class="memItemLeft" align="right" valign="top">MQTTClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a></td></tr>
<tr class="memdesc:a0524591f2a058a4f26f16579245db356"><td class="mdescLeft">&#160;</td><td class="mdescRight">central object to manage MQTT  <a href="#a0524591f2a058a4f26f16579245db356">More...</a><br/></td></tr>
<tr class="separator:a0524591f2a058a4f26f16579245db356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020889fcca6224d14f4d3f4241ca4467"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a> = &quot;&quot;</td></tr>
<tr class="memdesc:a020889fcca6224d14f4d3f4241ca4467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable to store the DNS name or IP address of the MQTT broker.  <a href="#a020889fcca6224d14f4d3f4241ca4467">More...</a><br/></td></tr>
<tr class="separator:a020889fcca6224d14f4d3f4241ca4467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f27c574110acbefe064ca29a7ce289d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a> = false</td></tr>
<tr class="memdesc:a3f27c574110acbefe064ca29a7ce289d"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether MQTT is configured.  <a href="#a3f27c574110acbefe064ca29a7ce289d">More...</a><br/></td></tr>
<tr class="separator:a3f27c574110acbefe064ca29a7ce289d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2311f2b74fe46d3f9e8072b3694deee5"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a2311f2b74fe46d3f9e8072b3694deee5">mqttOutgoingTopic</a></td></tr>
<tr class="memdesc:a2311f2b74fe46d3f9e8072b3694deee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The topic <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> publishes.  <a href="#a2311f2b74fe46d3f9e8072b3694deee5">More...</a><br/></td></tr>
<tr class="separator:a2311f2b74fe46d3f9e8072b3694deee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686cf2365a7075bc5f72d01c99b3a9f2"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a686cf2365a7075bc5f72d01c99b3a9f2">mqttIncomingTopic</a></td></tr>
<tr class="memdesc:a686cf2365a7075bc5f72d01c99b3a9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The topic which <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> subscribes.  <a href="#a686cf2365a7075bc5f72d01c99b3a9f2">More...</a><br/></td></tr>
<tr class="separator:a686cf2365a7075bc5f72d01c99b3a9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2e905cdd4621947a7d6c966383e28c"><td class="memItemLeft" align="right" valign="top">ESP8266WebServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a0c2e905cdd4621947a7d6c966383e28c">webserver</a></td></tr>
<tr class="memdesc:a0c2e905cdd4621947a7d6c966383e28c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the webserver object. It is used to serve the user interface over HTTP. Per default, port 80 is used.  <a href="#a0c2e905cdd4621947a7d6c966383e28c">More...</a><br/></td></tr>
<tr class="separator:a0c2e905cdd4621947a7d6c966383e28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4768e99cded5c5493ba789b0555c80fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a> = false</td></tr>
<tr class="memdesc:a4768e99cded5c5493ba789b0555c80fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether a factory reset has been requested.  <a href="#a4768e99cded5c5493ba789b0555c80fc">More...</a><br/></td></tr>
<tr class="separator:a4768e99cded5c5493ba789b0555c80fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4ddb8b6ae564eb22f7c74f2683a63b8e">buttonPin</a> = 0</td></tr>
<tr class="memdesc:a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant to map the hardware button of the Sonoff S20.  <a href="#a4ddb8b6ae564eb22f7c74f2683a63b8e">More...</a><br/></td></tr>
<tr class="separator:a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80700674ee3f9a7b6ae86b0756679902"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a80700674ee3f9a7b6ae86b0756679902">buttonLastPressed</a> = false</td></tr>
<tr class="memdesc:a80700674ee3f9a7b6ae86b0756679902"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track whether the button was pressed since <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a> was called the last time.  <a href="#a80700674ee3f9a7b6ae86b0756679902">More...</a><br/></td></tr>
<tr class="separator:a80700674ee3f9a7b6ae86b0756679902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a244ed52f592c09418e6feee15f1cecd5"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a244ed52f592c09418e6feee15f1cecd5">timeSincebuttonPressed</a> = 0</td></tr>
<tr class="memdesc:a244ed52f592c09418e6feee15f1cecd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track the time since the button was pressed.  <a href="#a244ed52f592c09418e6feee15f1cecd5">More...</a><br/></td></tr>
<tr class="separator:a244ed52f592c09418e6feee15f1cecd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969fb5df6fd687b0434058fa78c25f27"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a969fb5df6fd687b0434058fa78c25f27">selectionState</a> = 0</td></tr>
<tr class="memdesc:a969fb5df6fd687b0434058fa78c25f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">State to track which menu the user selects, if the button is released.  <a href="#a969fb5df6fd687b0434058fa78c25f27">More...</a><br/></td></tr>
<tr class="separator:a969fb5df6fd687b0434058fa78c25f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb2542b2738619fdf76b685b10e315d"><td class="memItemLeft" align="right" valign="top">Ticker&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="WIFIOnOff_8ino.html#a4bb2542b2738619fdf76b685b10e315d">ticker</a></td></tr>
<tr class="memdesc:a4bb2542b2738619fdf76b685b10e315d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This object is used to trigger the function press frequently. The button handler is implemented there.  <a href="#a4bb2542b2738619fdf76b685b10e315d">More...</a><br/></td></tr>
<tr class="separator:a4bb2542b2738619fdf76b685b10e315d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>WIFIOnOFF is an alternative software for the Sonoff S20 which provides a web user interface (HTTP) and an internet of things interface (MQTT). The device can still be controlled by the normal user button. The connection to WiFi will be established by WPS for reasons of a better user experience. This device can be used in the local network without any dependency of a cloud.</p>
<p>Copyright (C) 2018 Siegfried Schfer</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://mqtt.org/">http://mqtt.org/</a> </dd>
<dd>
<a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.pdf">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.pdf</a> </dd>
<dd>
<a href="https://github.com/esp8266/Arduino">https://github.com/esp8266/Arduino</a> </dd>
<dd>
<a href="https://arduino-esp8266.readthedocs.io/en/latest/">https://arduino-esp8266.readthedocs.io/en/latest/</a> </dd>
<dd>
<a href="https://media.readthedocs.org/pdf/arduino-esp8266/latest/arduino-esp8266.pdf">https://media.readthedocs.org/pdf/arduino-esp8266/latest/arduino-esp8266.pdf</a> </dd>
<dd>
<a href="https://github.com/espressif/ESP8266_NONOS_SDK">https://github.com/espressif/ESP8266_NONOS_SDK</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5b5893eb38e4fe69dc2acd2f974fa5cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTR_MAX_TRIES_WIFI_CONNECTION&#160;&#160;&#160;60</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum amount of tries to connect to WIFI </p>

</div>
</div>
<a class="anchor" id="afc670eb8e8858f7ddbbecf997a99dbca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEV_OTA_PASSWD&#160;&#160;&#160;&quot;CwpvVzR33gKY&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the password to protect OTA with DEV_OTA_PASSWD. This is not a high security procedure. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Despite the fact that over-the-air (OTA) updates are not highly secure, it is highly recommended to change the password. This is just a very bad default. <dl class="section see"><dt>See Also</dt><dd><a href="https://media.readthedocs.org/pdf/arduino-esp8266/latest/arduino-esp8266.pdf">https://media.readthedocs.org/pdf/arduino-esp8266/latest/arduino-esp8266.pdf</a> </dd></dl>
</dd></dl>

</div>
</div>
<a class="anchor" id="a29b6e2877e1ad309ad7f24c22f97eed1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEV_OTA_UPDATES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define DEV_OTA_UPDATES if you want to perform OTA updates for development with Arduino IDE. </p>

</div>
</div>
<a class="anchor" id="ab384daae78d017828d89c6d9c697021a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_address_CRC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The EEPROM version number is stored at this address. </p>

</div>
</div>
<a class="anchor" id="add6dd801239610f299da096ea9b87383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_address_MQTT_server&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#a604b9f83bce537df8060d5bb69480c76">EEPROM_address_MQTT_server_configured</a> + <a class="el" href="WIFIOnOff_8ino.html#a11fbf1b754b9209b6bdd4ebcb0c3e677">EEPROM_enabled_size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The variable <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a> which contains the value of the MQTT-Server (DNS name or IP) is restored after startup from EEPROM, if MQTT is configured (<a class="el" href="WIFIOnOff_8ino.html#a604b9f83bce537df8060d5bb69480c76">EEPROM_address_MQTT_server_configured</a>). The stored bytes can be found at this address. </p>

</div>
</div>
<a class="anchor" id="a604b9f83bce537df8060d5bb69480c76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_address_MQTT_server_configured&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#ad4bdfcba39f823c70e99abea4dc16ffb">EEPROM_address_WPS_configured</a> + <a class="el" href="WIFIOnOff_8ino.html#a11fbf1b754b9209b6bdd4ebcb0c3e677">EEPROM_enabled_size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This flag is used to check whether <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a> has already been initialized with the value of the MQTT-Server (DNS name or IP) </p>

</div>
</div>
<a class="anchor" id="a4e45a9ad8583fe2db7f42052e0a7ac95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_address_start&#160;&#160;&#160;(<a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a> + <a class="el" href="WIFIOnOff_8ino.html#af12bb22226c8f91f856f93ef2ddad3ec">EEPROM_size_CRC</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A CRC is calculated for the EEPROM values to ensure that the values are untempered. The CRC takes some space to be stored in the EEPROM. The start address takes this into account. </p>

</div>
</div>
<a class="anchor" id="ad4bdfcba39f823c70e99abea4dc16ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_address_WPS_configured&#160;&#160;&#160;<a class="el" href="WIFIOnOff_8ino.html#a4e45a9ad8583fe2db7f42052e0a7ac95">EEPROM_address_start</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WPS is the only choice to connect to WIFI. This shall improve usability. The state of WPS is stored in EEPROM at this address. The value 0x00 was chosen as it terminates Strings, which leads to perfect default data. </p>

</div>
</div>
<a class="anchor" id="a06c93cd8175c0a438c20922e313645bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_enabled&#160;&#160;&#160;0xEB</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this magic number is set, a defined functionality is enabled. </p>

</div>
</div>
<a class="anchor" id="a11fbf1b754b9209b6bdd4ebcb0c3e677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_enabled_size&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The amount of storage needed by <a class="el" href="WIFIOnOff_8ino.html#a06c93cd8175c0a438c20922e313645bd">EEPROM_enabled</a> in EEPROM. </p>

</div>
</div>
<a class="anchor" id="a6912b1d0bb01613405a6827632e6d6f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_init_value&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If an init value is set, a defined functionality is disabled. The init value is also used to initialize the EEPROM in <a class="el" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i...">setupEEPROM()</a>. </p>

</div>
</div>
<a class="anchor" id="af7399e3a75be0250095968af4f94757e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_length&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EEPROM_length defines the maximum amount of bytes to be stored in the EEPROM. At the time of writing, the maximum amout of bytes to be stored is 4096. </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://git.io/vxYHO">https://git.io/vxYHO</a> </dd>
<dd>
<a href="https://git.io/vxYHG">https://git.io/vxYHG</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af12bb22226c8f91f856f93ef2ddad3ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_size_CRC&#160;&#160;&#160;(sizeof(unsigned long))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A CRC is calculated for the EEPROM values to ensure that the values are untempered. The size of the stored CRC is defined by this macro. </p>

</div>
</div>
<a class="anchor" id="ac060eafb02eba00d33cad29f38819d4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_size_MQTT_server&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum amount of bytes used to store the MQTT server address. This address can be either an IP or a DNS name. DNS names are restricted to 255 octets. As a string is zero-terminated, one byte more is used. For more information, look at RFC 1035. </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://www.ietf.org/rfc/rfc1035.txt">https://www.ietf.org/rfc/rfc1035.txt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa3109b452678c4716d01ff98ce34a2da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_version_number&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A CRC is calculated for the EEPROM values to ensure that the values are untempered. The address of the stored CRC is at the beginning of the EEPROM. </p>

</div>
</div>
<a class="anchor" id="a573ec4699f45eaca686a077e5881d66b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_version_number_address&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This version number is stored in EEPROM. It must not be longer than one byte. The version number defined here and that one stored in EEPROM are compared against each other. In case the two numbers are not equal, the EEPROM is re-/initialized. This number must change, if you change the EEPROM layout, basically if you change adresses. </p>

</div>
</div>
<a class="anchor" id="a0906dae4a42c1fef9ec0cd0a5212ed4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_PORT&#160;&#160;&#160;80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>standard port used for the HTTP protocol </p>

</div>
</div>
<a class="anchor" id="aa8632baff6bbb5004385998918f1e6bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_PORT&#160;&#160;&#160;1883</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>standard port used for the MQTT protocol </p>

</div>
</div>
<a class="anchor" id="a59912dabf54ca43542cdc292e80d5742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMERIC_RESPONSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define NUMERIC_RESPONSE if you want the <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> to publish "1" or "0" instead of "on" or "off". </p>

</div>
</div>
<a class="anchor" id="a05aa5fbe8a67eecb3e1d318cc590b4f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_RELAY_STATE_ON_GREEN_STATUS_LED</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The state of the relay is visible through the blue LED (connected == LED shines). Define OUTPUT_RELAY_STATE_ON_GREEN_STATUS_LED, if you want the state of the relay being visible also on the green LED (connected == LED shines). </p>

</div>
</div>
<a class="anchor" id="a111429b8fcdec5c5148837425261c18f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERIAL_PRINTING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define SERIAL_PRINTING if you want to enable serial communication. </p>

</div>
</div>
<a class="anchor" id="ad32448a40ca9e5dc0a62149d0f08bd5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_EEPROM_WARNING&#160;&#160;&#160;7000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>definition of the time the LED stays on in case of an EEPROM warning (CRC failure, initialization, EEPROM incompatible) </p>

</div>
</div>
<a class="anchor" id="a87a8a26f2f6a9e14484ae0efabe91c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_HALF_A_SECOND&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>definition of the timespan of half a second </p>

</div>
</div>
<a class="anchor" id="af01b3f2fe9f05e4ead3b1957d5402397"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_QUARTER_SECOND&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>definition of the timespan of a quarter of a second </p>

</div>
</div>
<a class="anchor" id="a1d71187e9e78d5bd8e38f8bd84edcfbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRIGGER_TIME_FACTORY_RESET&#160;&#160;&#160;60000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>time in ms to wait until factory reset is triggered when pressing the button (see <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a>) </p>

</div>
</div>
<a class="anchor" id="a65378513c8fda212e6ad80723ebfa2b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRIGGER_TIME_WIFI_DATA_RESET&#160;&#160;&#160;30000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>time in ms to wait until the WIFI configuration reset </p>

</div>
</div>
<a class="anchor" id="af0c74d8a61960bcc6f7e06acc3dda4c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRIGGER_TIME_WPS&#160;&#160;&#160;7000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>time in ms to wait until WPS request is triggered when pressing the button (see <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a>) </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a16ef77fe42b6e5a700dd2445f0aaa24f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long calculate_crc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates a CRC checksum for the EEPROM. It is taken from: <a href="https://www.arduino.cc/en/Tutorial/EEPROMCrc">https://www.arduino.cc/en/Tutorial/EEPROMCrc</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>calculated CRC </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a16ef77fe42b6e5a700dd2445f0aaa24f_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a16ef77fe42b6e5a700dd2445f0aaa24f_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a16ef77fe42b6e5a700dd2445f0aaa24f_icgraph" id="WIFIOnOff_8ino_a16ef77fe42b6e5a700dd2445f0aaa24f_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="155,107,237,133"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#aeeada0076ef68a04f4794f91e727ae5a" title="This function calculates the CRC value for the bytes stored in the EEPROM with the help of function c..." alt="" coords="153,31,239,57"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="358,107,455,133"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be..." alt="" coords="341,208,472,235"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="335,157,479,184"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a006d783b06cfbafe0c614692c894e2ec" title="Store MQTT server / broker name (mqttServer) and state (configured or not, stateMQTTConfigured) in EE..." alt="" coords="288,56,525,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="591,5,703,32"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="574,107,719,133"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="769,31,823,57"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="773,157,819,184"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="598,208,695,235"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="577,56,717,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeeada0076ef68a04f4794f91e727ae5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkCRC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the CRC value for the bytes stored in the EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. ">calculate_crc()</a> and compares the result to the CRC which was read from EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124" title="This function reads the CRC value stored at EEPROM_address_CRC. ">retrieveCRC()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true if calculated CRC matches stored CRC </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_cgraph" id="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="141,5,240,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124" title="This function reads the CRC value stored at EEPROM_address_CRC. " alt="" coords="143,56,238,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_icgraph" id="WIFIOnOff_8ino_aeeada0076ef68a04f4794f91e727ae5a_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="141,5,253,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="302,5,357,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd23421ffd3823e5dafd4205f499fd2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkEEPROMVersionNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a> stored in EEPROM against the version number required by the latest EEPROM layout. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the stored and the required EEPROM version number match, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_afd23421ffd3823e5dafd4205f499fd2c_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_afd23421ffd3823e5dafd4205f499fd2c_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_afd23421ffd3823e5dafd4205f499fd2c_icgraph" id="WIFIOnOff_8ino_afd23421ffd3823e5dafd4205f499fd2c_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="259,5,371,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="419,5,474,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5189bf4d6c6b3d4a90bf76335456740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkMQTTConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get MQTT connection state. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if MQTT is connected, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_af5189bf4d6c6b3d4a90bf76335456740_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_af5189bf4d6c6b3d4a90bf76335456740_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_af5189bf4d6c6b3d4a90bf76335456740_icgraph" id="WIFIOnOff_8ino_af5189bf4d6c6b3d4a90bf76335456740_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="211,195,301,221"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="851,93,991,120"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="557,296,603,323"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="350,195,469,221"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="358,144,461,171"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="361,245,458,272"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="535,195,625,221"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="1041,169,1095,196"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="518,144,642,171"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="872,195,971,221"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="691,144,803,171"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ed5532c3a832fa15a2865ee80cbfdda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkWiFiConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks whether WPS has already been performed once. In this case, one can directly connect to WiFi. </p>
<dl class="section return"><dt>Returns</dt><dd>true if WPS has already been performed, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a7ed5532c3a832fa15a2865ee80cbfdda_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a7ed5532c3a832fa15a2865ee80cbfdda_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a7ed5532c3a832fa15a2865ee80cbfdda_icgraph" id="WIFIOnOff_8ino_a7ed5532c3a832fa15a2865ee80cbfdda_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="200,5,299,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="226,56,273,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="347,5,402,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7e0fb4debe9d6029fd560490e0d89062"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkWiFiConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks whether WIFI is connected. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if WiFi is connected, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a7e0fb4debe9d6029fd560490e0d89062_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a7e0fb4debe9d6029fd560490e0d89062_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a7e0fb4debe9d6029fd560490e0d89062_icgraph" id="WIFIOnOff_8ino_a7e0fb4debe9d6029fd560490e0d89062_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="201,5,247,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a04a0e88b0687b8c017addfed120950"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configureMQTT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure new MQTT server / broker. This will. </p>
<ul>
<li>disconnect the MQTT client if connected</li>
<li>set the server / broker name</li>
<li>set the callback mqttConrolRelay() </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_cgraph" id="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="166,56,290,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="347,31,450,57"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="339,81,458,108"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="507,5,610,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="513,56,604,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="664,5,821,32"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="659,56,827,83"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="662,107,823,133"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="507,107,611,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_icgraph" id="WIFIOnOff_8ino_a3a04a0e88b0687b8c017addfed120950_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="166,5,306,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="355,31,410,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4b7676f0d3c07948850fd833023d7783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configureOutputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures the output pins of the microcontroller. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a4b7676f0d3c07948850fd833023d7783_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a4b7676f0d3c07948850fd833023d7783_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a4b7676f0d3c07948850fd833023d7783_icgraph" id="WIFIOnOff_8ino_a4b7676f0d3c07948850fd833023d7783_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="177,5,231,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50409543b7c4c4fb48e60ec35fbda3f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configureWebServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used configure the webserver. The webserver is configured by defining callback functions for handling incoming requests on. </p>
<ul>
<li>/</li>
<li>/settings.html </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_cgraph" id="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="662,102,765,129"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="979,26,1136,53"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="973,381,1141,407"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="654,159,773,186"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a1ec8a91d3b174c2cfee9eaf852f11c1e" title="This function returns the first part of a HTML file which is reused for all responses. " alt="" coords="263,215,363,242"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a1c9dd84a6d6ca1ea206f310605cc049d" title="This function returns the middle part of a HTML file to. " alt="" coords="267,266,359,293"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a12a8bd3c3a1288633c3eade6ee8e77cf" title="This function returns the last part of a HTML file which is reused for all responses. " alt="" coords="266,317,361,343"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#afc46fe517d2d628cdf59870d4f09060c" title="Getter function for stateMQTTConfigured. " alt="" coords="228,367,399,394"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#a3251df1e6168789bae584b4063d5a59d" title="This function is used to check whether mqttServer is valid. Therefore, it is checked that the..." alt="" coords="256,418,371,445"/><area shape="rect" id="node16" href="WIFIOnOff_8ino.html#a0914c7b7faa1375475836dc6115f1077" title="Getter function for MQTT server / broker mqttServer. " alt="" coords="256,469,371,495"/><area shape="rect" id="node17" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f" title="Setter function for MQTT server / broker mqttServer. " alt="" coords="256,519,371,546"/><area shape="rect" id="node18" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d" title="Setter function for stateMQTTConfigured. " alt="" coords="228,570,399,597"/><area shape="rect" id="node19" href="WIFIOnOff_8ino.html#a006d783b06cfbafe0c614692c894e2ec" title="Store MQTT server / broker name (mqttServer) and state (configured or not, stateMQTTConfigured) in EE..." alt="" coords="195,671,432,698"/><area shape="rect" id="node22" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="257,114,369,141"/><area shape="rect" id="node24" href="WIFIOnOff_8ino.html#a4dfcb1cefe2bee38d172e3f327c1a72d" title="This function returns the middle part of a HTML file to. " alt="" coords="223,722,404,749"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="822,77,925,103"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="828,127,919,154"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="977,127,1138,154"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="821,178,925,205"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a3523db85b2f83ce089a2a733d7a025ad" title="This function is used for filtering out XSS attacks. This is done by whitelisting. " alt="" coords="483,418,602,445"/><area shape="rect" id="node20" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="502,671,583,698"/><area shape="rect" id="node21" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="664,671,763,698"/><area shape="rect" id="node23" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="481,114,605,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_icgraph" id="WIFIOnOff_8ino_a50409543b7c4c4fb48e60ec35fbda3f3_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="195,5,250,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6eda13f766d5d36ba8bcbe7c252c2ab8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connectRelay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to connect the relay to the mains. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_cgraph" id="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="158,5,261,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="164,56,255,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="315,5,472,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="309,56,477,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="313,107,474,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_icgraph" id="WIFIOnOff_8ino_a6eda13f766d5d36ba8bcbe7c252c2ab8_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="175,5,265,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="158,56,282,83"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="491,107,631,133"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="512,5,611,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="681,56,735,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="331,56,443,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31eed9b3718a60b96c1fea76590a3fc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool connectToWiFi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function tries to connect to WIFI. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the connection was successful, false otherwise. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_cgraph" id="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="166,56,346,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="395,56,477,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="525,5,640,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="531,56,635,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="531,107,634,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_icgraph" id="WIFIOnOff_8ino_a31eed9b3718a60b96c1fea76590a3fc5_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="166,5,263,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="313,31,359,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae850a8f5a550a31d8433eddf41a11d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disconnectRelay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to disconnect the relay from the mains. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_cgraph" id="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="173,5,277,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="180,56,271,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="331,5,488,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="325,56,493,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="329,107,490,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_icgraph" id="WIFIOnOff_8ino_ae850a8f5a550a31d8433eddf41a11d44_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="191,5,281,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="697,81,751,108"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="174,107,298,133"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="507,157,647,184"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="528,5,627,32"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="347,107,459,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af43969e915aec75ff3f318d585e0606a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void feedbackEEPROMInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to give the user feedback that the EEPROM has been re-/initialized. This means that all the user-entered data is gone and the device needs to be reconfigured. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_cgraph" id="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="205,5,320,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="211,56,315,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="211,107,314,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_icgraph" id="WIFIOnOff_8ino_af43969e915aec75ff3f318d585e0606a_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="205,5,317,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="366,5,421,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed631ac5d7f4338966a6a187e1057258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void feedbackQuickBlink </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the <a class="el" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()-events, the user can determine which menu is selected, when the button is released now. ">feedbackQuickBlink()</a>-events, the user can determine which menu is selected, when the button is released now. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_cgraph" id="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="264,56,347,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a2f07f10222db3144a4a271ddcb81cdde" title="Setter function for userActionFeedbackRequest. The user has been notified that a menu can be selected..." alt="" coords="193,107,418,133"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="467,5,581,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="472,56,576,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="473,107,575,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_icgraph" id="WIFIOnOff_8ino_aed631ac5d7f4338966a6a187e1057258_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="193,5,239,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29d61ce203f552333381a79f4993da69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void feedbackWIFIisConnecting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to give the user feedback that WIFI is about to connect. It will blink at a medium rate. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_cgraph" id="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="235,56,317,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="365,5,480,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="371,56,475,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="371,107,474,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_icgraph" id="WIFIOnOff_8ino_a29d61ce203f552333381a79f4993da69_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="235,31,346,57"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="395,5,493,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="542,31,589,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a688bc5c57984763646a5dd2f72943255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getClientID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the client name used for MQTT, see <a class="el" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. ">mqttConnect()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>the client ID: "WIFIOnOff" + MAC address </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a688bc5c57984763646a5dd2f72943255_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a688bc5c57984763646a5dd2f72943255_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a688bc5c57984763646a5dd2f72943255_icgraph" id="WIFIOnOff_8ino_a688bc5c57984763646a5dd2f72943255_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aa61ca7b9fb98de7d85d230a82ea7de28" title="This function sets up MDNS. " alt="" coords="143,5,238,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="142,56,239,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="289,5,343,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="293,56,339,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e9603214a47595af27b6e16f635734d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getFactoryResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if factory reset is requested, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a92b654456d82f73760cda8b83c5a0ca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getMQTTOutgoingTopic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a2311f2b74fe46d3f9e8072b3694deee5">mqttOutgoingTopic</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>String of outgoing MQTT topic </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a92b654456d82f73760cda8b83c5a0ca6_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a92b654456d82f73760cda8b83c5a0ca6_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a92b654456d82f73760cda8b83c5a0ca6_icgraph" id="WIFIOnOff_8ino_a92b654456d82f73760cda8b83c5a0ca6_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="216,152,307,179"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="355,102,474,128"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="363,152,466,179"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="366,228,463,255"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="540,152,631,179"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="1046,76,1101,103"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="523,102,647,128"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="857,51,997,78"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="877,152,976,179"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="696,102,808,128"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="562,254,609,280"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0914c7b7faa1375475836dc6115f1077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getMQTTServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for MQTT server / broker <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>the latest MQTT server / broker </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a0914c7b7faa1375475836dc6115f1077_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a0914c7b7faa1375475836dc6115f1077_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a0914c7b7faa1375475836dc6115f1077_icgraph" id="WIFIOnOff_8ino_a0914c7b7faa1375475836dc6115f1077_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="169,5,309,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="358,5,413,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4164c2bb2661c7427bd66ecd2f8aace"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getStateLEDOn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to get the state of the LED. It returns <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the LED is on, false otherwise. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_af4164c2bb2661c7427bd66ecd2f8aace_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_af4164c2bb2661c7427bd66ecd2f8aace_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_af4164c2bb2661c7427bd66ecd2f8aace_icgraph" id="WIFIOnOff_8ino_af4164c2bb2661c7427bd66ecd2f8aace_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="203,56,285,83"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a" title="This function is called to give the user feedback that the EEPROM has been re&#45;/initialized. This means that all the user&#45;entered data is gone and the device needs to be reconfigured. " alt="" coords="169,107,319,133"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="757,5,896,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="369,56,549,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="945,56,991,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="598,56,709,83"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="778,107,875,133"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="403,107,515,133"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="626,107,681,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afc46fe517d2d628cdf59870d4f09060c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getStateMQTTConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true if MQTT is configured, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_afc46fe517d2d628cdf59870d4f09060c_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_afc46fe517d2d628cdf59870d4f09060c_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_afc46fe517d2d628cdf59870d4f09060c_icgraph" id="WIFIOnOff_8ino_afc46fe517d2d628cdf59870d4f09060c_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="225,5,365,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="271,56,318,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="414,5,469,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefabc9bd763a51753669e6c249140abc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getStateRelayConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to get the connection state of the relay with the mains. It returns <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the relay is connected to the mains, false otherwise. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aefabc9bd763a51753669e6c249140abc_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aefabc9bd763a51753669e6c249140abc_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aefabc9bd763a51753669e6c249140abc_icgraph" id="WIFIOnOff_8ino_aefabc9bd763a51753669e6c249140abc_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="545,65,636,91"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="221,166,312,193"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="862,166,1002,193"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="883,65,981,91"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="1051,90,1106,117"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="361,115,479,142"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="369,166,471,193"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="371,242,469,269"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="529,166,653,193"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="701,166,813,193"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="567,267,614,294"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a347d10bac439b6c073df93cbf5522f28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getUserActionFeedbackRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the user should be notified that a menu can be selected, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a347d10bac439b6c073df93cbf5522f28_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a347d10bac439b6c073df93cbf5522f28_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a347d10bac439b6c073df93cbf5522f28_icgraph" id="WIFIOnOff_8ino_a347d10bac439b6c073df93cbf5522f28_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="265,5,311,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa79761488d06c15b10258afefb215020"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getWifiResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if a deletion of WIFI data has been requested, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a3361cdf5888fc635d5ae5d83747d50d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getWPSRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter function for <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if WPS has been requested, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="accde2e704135909387a34453e0dc1293"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initEEPROM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function writes default data (<a class="el" href="WIFIOnOff_8ino.html#a6912b1d0bb01613405a6827632e6d6f4">EEPROM_init_value</a>) to EEPROM and stores CRC and the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_cgraph" id="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53" title="This function stores the EEPROM_version_number in EEPROM. " alt="" coords="153,5,351,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="211,56,293,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="400,56,499,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_icgraph" id="WIFIOnOff_8ino_accde2e704135909387a34453e0dc1293_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="169,5,281,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="153,56,298,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="347,5,402,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="351,56,398,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3523db85b2f83ce089a2a733d7a025ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isNotWhitelisted </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used for filtering out XSS attacks. This is done by whitelisting. </p>
<ul>
<li>IPv4 addresses consist of numbers and dots (0..9 | .).</li>
<li>IPv6 addresses consist of hexadeximal numbers, double dots or brackets (0..9 | a..f | A..F | [ | ] )</li>
<li>DNS names consist of letters, digits and hypen (0..9 | a..z | A..Z | - ). This function is not validating DNS, IPv4, IPv6. Rubbish DNS names can still pass. But characters which could be used for XSS, like &lt;, &gt;, &amp;, " are blocked. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>character to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a href="https://www.ietf.org/rfc/rfc1035.txt">https://www.ietf.org/rfc/rfc1035.txt</a> </dd>
<dd>
<a href="https://wonko.com/post/html-escaping">https://wonko.com/post/html-escaping</a> </dd>
<dd>
<a href="https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet">https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true, if the argument character is not whitelisted, false otherwise. </dd></dl>
</li>
</ul>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3523db85b2f83ce089a2a733d7a025ad_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3523db85b2f83ce089a2a733d7a025ad_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3523db85b2f83ce089a2a733d7a025ad_icgraph" id="WIFIOnOff_8ino_a3523db85b2f83ce089a2a733d7a025ad_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3251df1e6168789bae584b4063d5a59d" title="This function is used to check whether mqttServer is valid. Therefore, it is checked that the..." alt="" coords="173,5,288,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="337,5,477,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="526,5,581,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0b33edabd7f1c4e4a0bf32c67269be2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed in a loop after <a class="el" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. ">setup(void)</a> has been called. </p>
<p>At first it checks for incoming user requests:</p>
<ul>
<li>to perform WPS (<a class="el" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and...">performWPS()</a>)</li>
<li>to delete the WiFi configuration (<a class="el" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa...">unsetWiFiConfigured()</a>)</li>
<li>to perform a factory reset (<a class="el" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. ">performFactoryReset()</a>)</li>
</ul>
<p>It is also checked for requests to inform the user about actions with the LED. These requests are triggered programmatically.</p>
<p>After all requests are handled, it is cyclically checked that WPS has been performed and that the WiFi is connected. If WPS has not been done or WiFi is not connected, it does not make any sense to check for HTTP, ArduinoOTA or MQTT. For MQTT to be checked, it is also required, that it was enabled by the user.</p>
<p>If MQTT is not connected, try to connect, otherwise handle MQTT. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a0b33edabd7f1c4e4a0bf32c67269be2f_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a0b33edabd7f1c4e4a0bf32c67269be2f_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a0b33edabd7f1c4e4a0bf32c67269be2f_cgraph" id="WIFIOnOff_8ino_a0b33edabd7f1c4e4a0bf32c67269be2f_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3361cdf5888fc635d5ae5d83747d50d6" title="Getter function for wpsRequested. " alt="" coords="147,107,267,133"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="158,296,255,323"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="401,208,545,235"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="418,360,529,387"/><area shape="rect" id="node16" href="WIFIOnOff_8ino.html#a347d10bac439b6c073df93cbf5522f28" title="Getter function for userActionFeedbackRequest. " alt="" coords="101,448,312,475"/><area shape="rect" id="node17" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="137,397,276,424"/><area shape="rect" id="node19" href="WIFIOnOff_8ino.html#aa79761488d06c15b10258afefb215020" title="Getter function for wifiResetRequested. " alt="" coords="126,499,287,525"/><area shape="rect" id="node20" href="WIFIOnOff_8ino.html#a3e9603214a47595af27b6e16f635734d" title="Getter function for factoryResetRequested. " alt="" coords="115,549,298,576"/><area shape="rect" id="node21" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="134,157,279,184"/><area shape="rect" id="node27" href="WIFIOnOff_8ino.html#a7ed5532c3a832fa15a2865ee80cbfdda" title="This function checks whether WPS has already been performed once. In this case, one can directly conn..." alt="" coords="133,600,280,627"/><area shape="rect" id="node28" href="WIFIOnOff_8ino.html#a7e0fb4debe9d6029fd560490e0d89062" title="This function checks whether WIFI is connected. " alt="" coords="133,651,280,677"/><area shape="rect" id="node29" href="WIFIOnOff_8ino.html#afc46fe517d2d628cdf59870d4f09060c" title="Getter function for stateMQTTConfigured. " alt="" coords="121,701,292,728"/><area shape="rect" id="node30" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="656,752,813,779"/><area shape="rect" id="node31" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="158,853,255,880"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be..." alt="" coords="408,259,539,285"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a86eebd69aeee5bbb5e648fc099b4b360" title="Setter function to unset wpsRequested. " alt="" coords="406,309,541,336"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="694,183,775,209"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a0e963d26058822266a054c999cf33ece" title="Setter function to unsset wifiResetRequested. " alt="" coords="647,233,822,260"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="883,183,981,209"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="645,360,825,387"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="891,385,973,412"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="1029,335,1144,361"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="1035,385,1139,412"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="1035,436,1138,463"/><area shape="rect" id="node18" href="WIFIOnOff_8ino.html#a2f07f10222db3144a4a271ddcb81cdde" title="Setter function for userActionFeedbackRequest. The user has been notified that a menu can be selected..." alt="" coords="361,461,586,488"/><area shape="rect" id="node22" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f" title="Setter function for MQTT server / broker mqttServer. " alt="" coords="416,107,531,133"/><area shape="rect" id="node23" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d" title="Setter function for stateMQTTConfigured. " alt="" coords="388,157,559,184"/><area shape="rect" id="node24" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="425,56,522,83"/><area shape="rect" id="node26" href="WIFIOnOff_8ino.html#a1da84f44cf0a8afe3ad725de0cae4c19" title="Setter function to unset factoryResetRequested. " alt="" coords="375,5,571,32"/><area shape="rect" id="node25" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53" title="This function stores the EEPROM_version_number in EEPROM. " alt="" coords="635,56,834,83"/><area shape="rect" id="node32" href="WIFIOnOff_8ino.html#a688bc5c57984763646a5dd2f72943255" title="This function returns the client name used for MQTT, see mqttConnect(). " alt="" coords="429,853,517,880"/><area shape="rect" id="node33" href="WIFIOnOff_8ino.html#a4beec40a2400bae93ac3aa8e2f701d13" title="Setter function for mqttIncomingTopic. " alt="" coords="392,904,555,931"/><area shape="rect" id="node34" href="WIFIOnOff_8ino.html#a26ae153af75c3844e61d4cd39be0b9d9" title="Setter function for mqttOutgoingTopic. " alt="" coords="393,955,554,981"/><area shape="rect" id="node35" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="428,803,519,829"/><area shape="rect" id="node36" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="651,803,819,829"/><area shape="rect" id="node37" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="654,853,815,880"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ad5cb858c24c53a6eaa846b713bd120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqttConnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function connects to broker and. </p>
<ul>
<li>subscribes topic wifionoff/getClientID()/set</li>
<li>sets last will "disconnected" on wifionoff/getClientID()/get</li>
<li>publishes latest state on wifionoff/getClientID()/get </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_cgraph" id="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a688bc5c57984763646a5dd2f72943255" title="This function returns the client name used for MQTT, see mqttConnect(). " alt="" coords="189,5,277,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a4beec40a2400bae93ac3aa8e2f701d13" title="Setter function for mqttIncomingTopic. " alt="" coords="152,56,315,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a26ae153af75c3844e61d4cd39be0b9d9" title="Setter function for mqttOutgoingTopic. " alt="" coords="153,107,314,133"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="188,157,279,184"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="368,107,525,133"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="363,157,531,184"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="366,208,527,235"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_icgraph" id="WIFIOnOff_8ino_a9ad5cb858c24c53a6eaa846b713bd120_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="153,5,199,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab913592c54bd79feda56cbdc86f44641"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqttControlRelay </td>
          <td>(</td>
          <td class="paramtype">String &amp;&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String &amp;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback which is called when MQTT receives an incoming topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>One of the incoming MQTT topics, which the <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> has been subscribed to. Currently there is only one connection, see <a class="el" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. ">mqttConnect()</a>. So this parameter is irrelevant. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Contains the received payload of the message of the incoming topic. If "on" or "1" is received, the relay is connected (<a class="el" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe...">connectRelay()</a>), else if "off" or "0" is received, the relay is disconnected (<a class="el" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st...">disconnectRelay()</a>). </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_cgraph" id="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="187,31,290,57"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="179,81,298,108"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="347,5,450,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="353,56,444,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="504,5,661,32"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="499,56,667,83"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="502,107,663,133"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="347,107,451,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_icgraph" id="WIFIOnOff_8ino_ab913592c54bd79feda56cbdc86f44641_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="179,31,291,57"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="339,5,479,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="529,31,583,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92e8e72a8c9bd699aefa63b65c4bc30c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqttPublish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>With the call of this function, <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> publishes the state of the relay (<a class="el" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC...">getStateRelayConnected()</a>) on the outgoing topic (<a class="el" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. ">getMQTTOutgoingTopic()</a>) to the MQTT server / broker. The macro <a class="el" href="WIFIOnOff_8ino.html#a59912dabf54ca43542cdc292e80d5742">NUMERIC_RESPONSE</a> is taken into account. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_cgraph" id="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="149,5,307,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="144,56,312,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="147,107,309,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_icgraph" id="WIFIOnOff_8ino_a92e8e72a8c9bd699aefa63b65c4bc30c_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="145,102,263,128"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="153,152,255,179"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="155,228,253,255"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="329,152,420,179"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="835,76,890,103"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="313,102,437,128"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="646,51,786,78"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="667,152,765,179"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="485,102,597,128"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="351,254,398,280"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3251df1e6168789bae584b4063d5a59d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mqttServerValid </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>mqttServer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to check whether mqttServer is valid. Therefore, it is checked that the. </p>
<ul>
<li>length of mqttServer is less or equal than <a class="el" href="WIFIOnOff_8ino.html#ac060eafb02eba00d33cad29f38819d4a">EEPROM_size_MQTT_server</a></li>
<li>all characters are whitelisted (see <a class="el" href="WIFIOnOff_8ino.html#a3523db85b2f83ce089a2a733d7a025ad" title="This function is used for filtering out XSS attacks. This is done by whitelisting. ">isNotWhitelisted()</a>) <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttServer</td><td>String to check for validity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if mqttServer is valid, false otherwise. </dd></dl>
</li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_cgraph" id="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a3523db85b2f83ce089a2a733d7a025ad" title="This function is used for filtering out XSS attacks. This is done by whitelisting. " alt="" coords="169,5,287,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_icgraph" id="WIFIOnOff_8ino_a3251df1e6168789bae584b4063d5a59d_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="169,5,309,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="358,5,413,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afec1c2962185272a8c87843f95d205ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void performFactoryReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform factory reset. </p>
<ul>
<li>reset WiFi</li>
<li>reset MQTT</li>
<li>reset EEPROM </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_cgraph" id="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="227,5,371,32"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f" title="Setter function for MQTT server / broker mqttServer. " alt="" coords="241,56,356,83"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d" title="Setter function for stateMQTTConfigured. " alt="" coords="213,107,384,133"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="250,157,347,184"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a1da84f44cf0a8afe3ad725de0cae4c19" title="Setter function to unset factoryResetRequested. " alt="" coords="201,208,397,235"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="505,81,586,108"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a0e963d26058822266a054c999cf33ece" title="Setter function to unsset wifiResetRequested. " alt="" coords="458,5,633,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="693,81,792,108"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53" title="This function stores the EEPROM_version_number in EEPROM. " alt="" coords="446,157,645,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_icgraph" id="WIFIOnOff_8ino_afec1c2962185272a8c87843f95d205ad_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="201,5,247,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa51eb2a71952e54dba6130be21b3a1d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void performWPS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to trigger WPS. If WPS has been successful, <a class="el" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be...">setWiFiConfigured()</a> is executed and <a class="el" href="WIFIOnOff_8ino.html#a86eebd69aeee5bbb5e648fc099b4b360" title="Setter function to unset wpsRequested. ">unsetWPSRequest()</a> is called. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_cgraph" id="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="152,56,296,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="169,107,279,133"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be..." alt="" coords="159,5,289,32"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#a86eebd69aeee5bbb5e648fc099b4b360" title="Setter function to unset wpsRequested. " alt="" coords="157,157,291,184"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="394,5,475,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a0e963d26058822266a054c999cf33ece" title="Setter function to unsset wifiResetRequested. " alt="" coords="347,56,522,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="573,5,672,32"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="345,107,525,133"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="581,107,664,133"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="720,56,835,83"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="725,107,829,133"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="726,157,829,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_icgraph" id="WIFIOnOff_8ino_aa51eb2a71952e54dba6130be21b3a1d7_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="153,5,199,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd4d58af93c899ee9a03131727b1cf34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pressHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function triggers. </p>
<ul>
<li>the toggling of the relay</li>
<li>WPS button method request</li>
<li>factory reset request. As this function is called regularly with <a class="el" href="WIFIOnOff_8ino.html#a4bb2542b2738619fdf76b685b10e315d">ticker</a>, it should be quick, otherwise the ESP8266 might crash. <dl class="section see"><dt>See Also</dt><dd><a href="https://arduino-esp8266.readthedocs.io/en/latest/faq/a02-my-esp-crashes.html">https://arduino-esp8266.readthedocs.io/en/latest/faq/a02-my-esp-crashes.html</a> </dd></dl>
</li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_cgraph" id="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7ed5532c3a832fa15a2865ee80cbfdda" title="This function checks whether WPS has already been performed once. In this case, one can directly conn..." alt="" coords="184,5,331,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0185fd92dbcb609528b98244ee37430c" title="Setter function for userActionFeedbackRequest. The user should be notified that a menu can be selecte..." alt="" coords="152,56,363,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a974b42331b531d9c0ec0d5be4d745078" title="Setter function to set factoryResetRequested. " alt="" coords="166,107,349,133"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a359226c1dba04041902ec5451ada2aae" title="Setter function to set wifiResetRequested. " alt="" coords="177,157,338,184"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#af2a784e9ea129440dd303530ab9e97a1" title="Setter function to set wpsRequested. " alt="" coords="197,208,317,235"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="212,259,303,285"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="731,221,899,248"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="411,259,530,285"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="419,309,522,336"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="579,259,683,285"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="585,309,676,336"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="736,284,893,311"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="734,335,895,361"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="579,360,682,387"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_icgraph" id="WIFIOnOff_8ino_acd4d58af93c899ee9a03131727b1cf34_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="153,5,207,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a12a8bd3c3a1288633c3eade6ee8e77cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String renderFooter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the last part of a HTML file which is reused for all responses. </p>
<dl class="section return"><dt>Returns</dt><dd>"&lt;/body&gt;&lt;/html&gt;", look inside the function for more information. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a12a8bd3c3a1288633c3eade6ee8e77cf_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a12a8bd3c3a1288633c3eade6ee8e77cf_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a12a8bd3c3a1288633c3eade6ee8e77cf_icgraph" id="WIFIOnOff_8ino_a12a8bd3c3a1288633c3eade6ee8e77cf_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="150,5,290,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="339,5,394,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ec8a91d3b174c2cfee9eaf852f11c1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String renderHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the first part of a HTML file which is reused for all responses. </p>
<dl class="section return"><dt>Returns</dt><dd>"&lt;!doctype&gt; ... &lt;body&gt;", look inside the function for more information. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://www.html.am/templates/css-templates/">http://www.html.am/templates/css-templates/</a> </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a1ec8a91d3b174c2cfee9eaf852f11c1e_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a1ec8a91d3b174c2cfee9eaf852f11c1e_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a1ec8a91d3b174c2cfee9eaf852f11c1e_icgraph" id="WIFIOnOff_8ino_a1ec8a91d3b174c2cfee9eaf852f11c1e_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="155,5,295,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="345,5,399,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4dfcb1cefe2bee38d172e3f327c1a72d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String renderMQTTServerSettings </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>storedServerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>failureMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stateMQTTActivated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stateMQTTConnected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the middle part of a HTML file to. </p>
<ul>
<li>show the settings for the MQTT server</li>
<li>manipulate the settings for the MQTT server This function could be relevant concerning XSS. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storedServerName</td><td>DNS name or IP address which is displayed on the HTML site </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">failureMsg</td><td>message that is displayed to the user in case of success or failure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stateMQTTActivated</td><td>shows the user, whether MQTT is activated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stateMQTTConnected</td><td>shows the user, whether MQTT is connected </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTML, look inside the function for more information. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet">https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet</a> </dd></dl>
</li>
</ul>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a4dfcb1cefe2bee38d172e3f327c1a72d_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a4dfcb1cefe2bee38d172e3f327c1a72d_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a4dfcb1cefe2bee38d172e3f327c1a72d_icgraph" id="WIFIOnOff_8ino_a4dfcb1cefe2bee38d172e3f327c1a72d_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="235,5,375,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="425,5,479,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c9dd84a6d6ca1ea206f310605cc049d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String renderRelay </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stateRelayConnected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the middle part of a HTML file to. </p>
<ul>
<li>show the state of the relay (disconnected - off / connected - on).</li>
<li>manipulate the state of the relay. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stateRelayConnected</td><td>if true, the relay is displayed as on, otherwise as off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTML, look inside the function for more information. </dd></dl>
</li>
</ul>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a1c9dd84a6d6ca1ea206f310605cc049d_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a1c9dd84a6d6ca1ea206f310605cc049d_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a1c9dd84a6d6ca1ea206f310605cc049d_icgraph" id="WIFIOnOff_8ino_a1c9dd84a6d6ca1ea206f310605cc049d_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="147,5,287,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="337,5,391,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42318ba7ac1f636b3bd64bf83a99dee2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restoreMQTTConfigurationFromEEPROM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read back MQTT server / broker name from EEPROM and store it in global variable <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>. Read back whether MQTT is configured and store it in global variable <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_cgraph" id="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f" title="Setter function for MQTT server / broker mqttServer. " alt="" coords="257,5,372,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d" title="Setter function for stateMQTTConfigured. " alt="" coords="229,56,400,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_icgraph" id="WIFIOnOff_8ino_a42318ba7ac1f636b3bd64bf83a99dee2_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="230,12,285,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a80ac0ebe45e95ee7e439f2aeea333124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long retrieveCRC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads the CRC value stored at <a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>CRC value from EEPROM </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a80ac0ebe45e95ee7e439f2aeea333124_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a80ac0ebe45e95ee7e439f2aeea333124_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a80ac0ebe45e95ee7e439f2aeea333124_icgraph" id="WIFIOnOff_8ino_a80ac0ebe45e95ee7e439f2aeea333124_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeeada0076ef68a04f4794f91e727ae5a" title="This function calculates the CRC value for the bytes stored in the EEPROM with the help of function c..." alt="" coords="150,5,237,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="285,5,397,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="446,5,501,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a006d783b06cfbafe0c614692c894e2ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saveMQTTConfigurationToEEPROM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store MQTT server / broker name (<a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>) and state (configured or not, <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>) in EEPROM. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_cgraph" id="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="291,5,373,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="421,5,520,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_icgraph" id="WIFIOnOff_8ino_a006d783b06cfbafe0c614692c894e2ec_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="291,5,431,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="481,5,535,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a974b42331b531d9c0ec0d5be4d745078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFactoryResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a974b42331b531d9c0ec0d5be4d745078_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a974b42331b531d9c0ec0d5be4d745078_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a974b42331b531d9c0ec0d5be4d745078_icgraph" id="WIFIOnOff_8ino_a974b42331b531d9c0ec0d5be4d745078_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="237,5,336,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="385,5,439,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4beec40a2400bae93ac3aa8e2f701d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMQTTIncomingTopic </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for <a class="el" href="WIFIOnOff_8ino.html#a686cf2365a7075bc5f72d01c99b3a9f2">mqttIncomingTopic</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>String to be set </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a4beec40a2400bae93ac3aa8e2f701d13_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a4beec40a2400bae93ac3aa8e2f701d13_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a4beec40a2400bae93ac3aa8e2f701d13_icgraph" id="WIFIOnOff_8ino_a4beec40a2400bae93ac3aa8e2f701d13_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="217,5,314,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="363,5,410,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26ae153af75c3844e61d4cd39be0b9d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMQTTOutgoingTopic </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for <a class="el" href="WIFIOnOff_8ino.html#a2311f2b74fe46d3f9e8072b3694deee5">mqttOutgoingTopic</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>String to be set </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a26ae153af75c3844e61d4cd39be0b9d9_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a26ae153af75c3844e61d4cd39be0b9d9_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a26ae153af75c3844e61d4cd39be0b9d9_icgraph" id="WIFIOnOff_8ino_a26ae153af75c3844e61d4cd39be0b9d9_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a9ad5cb858c24c53a6eaa846b713bd120" title="This function connects to broker and. " alt="" coords="217,5,314,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="363,5,410,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a104eb4efa9523edca8048af6e38d235f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMQTTServer </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for MQTT server / broker <a class="el" href="WIFIOnOff_8ino.html#a020889fcca6224d14f4d3f4241ca4467">mqttServer</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>MQTT server / broker </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a104eb4efa9523edca8048af6e38d235f_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a104eb4efa9523edca8048af6e38d235f_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a104eb4efa9523edca8048af6e38d235f_icgraph" id="WIFIOnOff_8ino_a104eb4efa9523edca8048af6e38d235f_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a42318ba7ac1f636b3bd64bf83a99dee2" title="Read back MQTT server / broker name from EEPROM and store it in global variable mqttServer. Read back whether MQTT is configured and store it in global variable stateMQTTConfigured. " alt="" coords="168,5,344,46"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="186,71,326,97"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="183,121,329,148"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="393,41,447,68"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="397,121,443,148"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad359baa91c446e57ccd6d77ebf49b5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setStateMQTTConfigured </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3f27c574110acbefe064ca29a7ce289d">stateMQTTConfigured</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>true if MQTT is configured, false otherwise </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aad359baa91c446e57ccd6d77ebf49b5d_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aad359baa91c446e57ccd6d77ebf49b5d_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aad359baa91c446e57ccd6d77ebf49b5d_icgraph" id="WIFIOnOff_8ino_aad359baa91c446e57ccd6d77ebf49b5d_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a42318ba7ac1f636b3bd64bf83a99dee2" title="Read back MQTT server / broker name from EEPROM and store it in global variable mqttServer. Read back whether MQTT is configured and store it in global variable stateMQTTConfigured. " alt="" coords="224,5,400,46"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="242,71,382,97"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="239,121,385,148"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="449,41,503,68"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="453,121,499,148"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7dfd9b79bc5a37d7df40207afbc5431f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed once at the startup of the microcontroller. </p>
<ul>
<li>The serial communication is setup with 115200 bauds. It is usefull for debugging or just information.</li>
<li>The output pins are configured.</li>
<li>The EEPROM is setup.</li>
<li>The MQTT configuration is restored from EEPROM.</li>
<li>MQTT is configured.</li>
<li>The webserver is configured.</li>
<li>MDNS is set up.</li>
<li>The LED is switched off.</li>
<li>The relay is disconnected. This is thought to be the natural experience, if you plug in a socket.</li>
<li>The button handler is started. </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a7dfd9b79bc5a37d7df40207afbc5431f_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a7dfd9b79bc5a37d7df40207afbc5431f_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a7dfd9b79bc5a37d7df40207afbc5431f_cgraph" id="WIFIOnOff_8ino_a7dfd9b79bc5a37d7df40207afbc5431f_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a4b7676f0d3c07948850fd833023d7783" title="This function configures the output pins of the microcontroller. " alt="" coords="137,5,258,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="141,208,253,235"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="1083,208,1187,235"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a42318ba7ac1f636b3bd64bf83a99dee2" title="Read back MQTT server / broker name from EEPROM and store it in global variable mqttServer. Read back whether MQTT is configured and store it in global variable stateMQTTConfigured. " alt="" coords="109,382,285,423"/><area shape="rect" id="node18" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="396,1069,508,1096"/><area shape="rect" id="node25" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="894,639,1013,665"/><area shape="rect" id="node26" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="127,689,267,716"/><area shape="rect" id="node36" href="WIFIOnOff_8ino.html#aa61ca7b9fb98de7d85d230a82ea7de28" title="This function sets up MDNS. " alt="" coords="150,968,245,995"/><area shape="rect" id="node38" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="403,1171,501,1197"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#aeeada0076ef68a04f4794f91e727ae5a" title="This function calculates the CRC value for the bytes stored in the EEPROM with the help of function c..." alt="" coords="409,208,495,235"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#afd23421ffd3823e5dafd4205f499fd2c" title="This function checks the EEPROM_version_number stored in EEPROM against the version number required b..." alt="" coords="349,157,555,184"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="403,259,501,285"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a" title="This function is called to give the user feedback that the EEPROM has been re&#45;/initialized. This means that all the user&#45;entered data is gone and the device needs to be reconfigured. " alt="" coords="878,183,1029,209"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="904,272,1003,299"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124" title="This function reads the CRC value stored at EEPROM_address_CRC. " alt="" coords="677,157,771,184"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53" title="This function stores the EEPROM_version_number in EEPROM. " alt="" coords="625,259,823,285"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="683,309,765,336"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="1077,157,1192,184"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="1083,512,1186,539"/><area shape="rect" id="node16" href="WIFIOnOff_8ino.html#a104eb4efa9523edca8048af6e38d235f" title="Setter function for MQTT server / broker mqttServer. " alt="" coords="395,360,509,387"/><area shape="rect" id="node17" href="WIFIOnOff_8ino.html#aad359baa91c446e57ccd6d77ebf49b5d" title="Setter function for stateMQTTConfigured. " alt="" coords="367,411,537,437"/><area shape="rect" id="node19" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="662,917,786,944"/><area shape="rect" id="node20" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="902,867,1005,893"/><area shape="rect" id="node21" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="1089,867,1180,893"/><area shape="rect" id="node22" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="1245,816,1403,843"/><area shape="rect" id="node23" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="1240,968,1408,995"/><area shape="rect" id="node24" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="1243,867,1405,893"/><area shape="rect" id="node27" href="WIFIOnOff_8ino.html#a1ec8a91d3b174c2cfee9eaf852f11c1e" title="This function returns the first part of a HTML file which is reused for all responses. " alt="" coords="402,563,502,589"/><area shape="rect" id="node28" href="WIFIOnOff_8ino.html#a1c9dd84a6d6ca1ea206f310605cc049d" title="This function returns the middle part of a HTML file to. " alt="" coords="406,613,498,640"/><area shape="rect" id="node29" href="WIFIOnOff_8ino.html#a12a8bd3c3a1288633c3eade6ee8e77cf" title="This function returns the last part of a HTML file which is reused for all responses. " alt="" coords="405,664,499,691"/><area shape="rect" id="node30" href="WIFIOnOff_8ino.html#afc46fe517d2d628cdf59870d4f09060c" title="Getter function for stateMQTTConfigured. " alt="" coords="367,715,537,741"/><area shape="rect" id="node31" href="WIFIOnOff_8ino.html#a3251df1e6168789bae584b4063d5a59d" title="This function is used to check whether mqttServer is valid. Therefore, it is checked that the..." alt="" coords="395,816,509,843"/><area shape="rect" id="node33" href="WIFIOnOff_8ino.html#a0914c7b7faa1375475836dc6115f1077" title="Getter function for MQTT server / broker mqttServer. " alt="" coords="395,765,509,792"/><area shape="rect" id="node34" href="WIFIOnOff_8ino.html#a006d783b06cfbafe0c614692c894e2ec" title="Store MQTT server / broker name (mqttServer) and state (configured or not, stateMQTTConfigured) in EE..." alt="" coords="333,461,571,488"/><area shape="rect" id="node35" href="WIFIOnOff_8ino.html#a4dfcb1cefe2bee38d172e3f327c1a72d" title="This function returns the middle part of a HTML file to. " alt="" coords="361,917,543,944"/><area shape="rect" id="node32" href="WIFIOnOff_8ino.html#a3523db85b2f83ce089a2a733d7a025ad" title="This function is used for filtering out XSS attacks. This is done by whitelisting. " alt="" coords="665,765,783,792"/><area shape="rect" id="node37" href="WIFIOnOff_8ino.html#a688bc5c57984763646a5dd2f72943255" title="This function returns the client name used for MQTT, see mqttConnect(). " alt="" coords="408,1120,496,1147"/><area shape="rect" id="node39" href="WIFIOnOff_8ino.html#a7ed5532c3a832fa15a2865ee80cbfdda" title="This function checks whether WPS has already been performed once. In this case, one can directly conn..." alt="" coords="651,1171,797,1197"/><area shape="rect" id="node40" href="WIFIOnOff_8ino.html#a0185fd92dbcb609528b98244ee37430c" title="Setter function for userActionFeedbackRequest. The user should be notified that a menu can be selecte..." alt="" coords="619,1221,829,1248"/><area shape="rect" id="node41" href="WIFIOnOff_8ino.html#a974b42331b531d9c0ec0d5be4d745078" title="Setter function to set factoryResetRequested. " alt="" coords="633,1272,815,1299"/><area shape="rect" id="node42" href="WIFIOnOff_8ino.html#a359226c1dba04041902ec5451ada2aae" title="Setter function to set wifiResetRequested. " alt="" coords="643,1069,805,1096"/><area shape="rect" id="node43" href="WIFIOnOff_8ino.html#af2a784e9ea129440dd303530ab9e97a1" title="Setter function to set wpsRequested. " alt="" coords="664,1120,784,1147"/><area shape="rect" id="node44" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="679,968,769,995"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3d5cf434e34fce7db249185369616a32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupEEPROM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with init values. The CRC check makes only sense at initialization phase. Afterwards, the data is buffered by EEPROM lib in RAM. </p>
<dl class="section see"><dt>See Also</dt><dd><a href="https://git.io/vxOPf">https://git.io/vxOPf</a> </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_cgraph" id="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeeada0076ef68a04f4794f91e727ae5a" title="This function calculates the CRC value for the bytes stored in the EEPROM with the help of function c..." alt="" coords="225,30,311,57"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afd23421ffd3823e5dafd4205f499fd2c" title="This function checks the EEPROM_version_number stored in EEPROM against the version number required b..." alt="" coords="165,81,371,107"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="219,131,317,158"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a" title="This function is called to give the user feedback that the EEPROM has been re&#45;/initialized. This means that all the user&#45;entered data is gone and the device needs to be reconfigured. " alt="" coords="193,207,343,234"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="667,55,765,82"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a80ac0ebe45e95ee7e439f2aeea333124" title="This function reads the CRC value stored at EEPROM_address_CRC. " alt="" coords="471,30,566,57"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a6e14ea51750122bd7a906b9dcf896c53" title="This function stores the EEPROM_version_number in EEPROM. " alt="" coords="419,81,618,107"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="478,131,559,158"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="461,182,576,209"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="467,233,571,259"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="467,283,570,310"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_icgraph" id="WIFIOnOff_8ino_a3d5cf434e34fce7db249185369616a32_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="166,5,221,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa61ca7b9fb98de7d85d230a82ea7de28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupMDNS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets up MDNS. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_cgraph" id="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a688bc5c57984763646a5dd2f72943255" title="This function returns the client name used for MQTT, see mqttConnect(). " alt="" coords="149,5,237,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_icgraph" id="WIFIOnOff_8ino_aa61ca7b9fb98de7d85d230a82ea7de28_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="150,5,205,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0185fd92dbcb609528b98244ee37430c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool setUserActionFeedbackRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>. The user should be notified that a menu can be selected. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a0185fd92dbcb609528b98244ee37430c_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a0185fd92dbcb609528b98244ee37430c_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a0185fd92dbcb609528b98244ee37430c_icgraph" id="WIFIOnOff_8ino_a0185fd92dbcb609528b98244ee37430c_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="264,5,363,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="411,5,466,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ebcee2a9d20137810223c6813e54787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setWiFiConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is a setter function which sets WiFi to configured, which means that WPS has already been performed successfully. This function is only called in <a class="el" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and...">performWPS()</a>. The configuration is saved to EEPROM. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_cgraph" id="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="185,5,266,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="315,5,413,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_icgraph" id="WIFIOnOff_8ino_a3ebcee2a9d20137810223c6813e54787_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="185,5,282,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="331,5,378,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a359226c1dba04041902ec5451ada2aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setWifiResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a359226c1dba04041902ec5451ada2aae_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a359226c1dba04041902ec5451ada2aae_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a359226c1dba04041902ec5451ada2aae_icgraph" id="WIFIOnOff_8ino_a359226c1dba04041902ec5451ada2aae_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="216,5,315,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="363,5,418,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af2a784e9ea129440dd303530ab9e97a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setWPSRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to set <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_af2a784e9ea129440dd303530ab9e97a1_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_af2a784e9ea129440dd303530ab9e97a1_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_af2a784e9ea129440dd303530ab9e97a1_icgraph" id="WIFIOnOff_8ino_af2a784e9ea129440dd303530ab9e97a1_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="173,5,272,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="321,5,375,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1dd9db8c49797d8536247d1fba49cfe7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storeCRC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the CRC value of the values in the EEPROM with the help of function <a class="el" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. ">calculate_crc()</a>. The resulting CRC checksum is written to <a class="el" href="WIFIOnOff_8ino.html#ab384daae78d017828d89c6d9c697021a">EEPROM_address_CRC</a>. The caller must still call EEPROM.commit() afterwards to really trigger a write to EEPROM. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_cgraph" id="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="136,5,235,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_icgraph" id="WIFIOnOff_8ino_a1dd9db8c49797d8536247d1fba49cfe7_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="206,107,303,133"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a3ebcee2a9d20137810223c6813e54787" title="This function is a setter function which sets WiFi to configured, which means that WPS has already be..." alt="" coords="189,208,320,235"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="183,157,327,184"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a006d783b06cfbafe0c614692c894e2ec" title="Store MQTT server / broker name (mqttServer) and state (configured or not, stateMQTTConfigured) in EE..." alt="" coords="136,31,373,57"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="439,56,551,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="422,107,567,133"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="617,31,671,57"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="621,157,667,184"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="446,208,543,235"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="425,5,565,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e14ea51750122bd7a906b9dcf896c53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storeEEPROMVersionNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stores the <a class="el" href="WIFIOnOff_8ino.html#aa3109b452678c4716d01ff98ce34a2da">EEPROM_version_number</a> in EEPROM. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a6e14ea51750122bd7a906b9dcf896c53_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a6e14ea51750122bd7a906b9dcf896c53_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a6e14ea51750122bd7a906b9dcf896c53_icgraph" id="WIFIOnOff_8ino_a6e14ea51750122bd7a906b9dcf896c53_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#accde2e704135909387a34453e0dc1293" title="This function writes default data (EEPROM_init_value) to EEPROM and stores CRC and the EEPROM_version..." alt="" coords="254,31,351,57"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="417,5,529,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="401,56,546,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="595,5,650,32"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="599,56,646,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a76f6c6d6e85f2215f0451b12f1db54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switchOffLED </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to switch the LED off. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a6a76f6c6d6e85f2215f0451b12f1db54_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a6a76f6c6d6e85f2215f0451b12f1db54_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a6a76f6c6d6e85f2215f0451b12f1db54_icgraph" id="WIFIOnOff_8ino_a6a76f6c6d6e85f2215f0451b12f1db54_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="192,107,275,133"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a" title="This function is called to give the user feedback that the EEPROM has been re&#45;/initialized. This means that all the user&#45;entered data is gone and the device needs to be reconfigured. " alt="" coords="158,157,309,184"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="937,284,991,311"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="174,309,293,336"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="748,5,887,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="358,107,538,133"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="941,56,987,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="587,107,698,133"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="769,107,866,133"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="587,157,699,184"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="403,309,493,336"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="386,360,510,387"/><area shape="rect" id="node16" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="747,411,887,437"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="768,309,867,336"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="587,360,699,387"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46be1cdf6842e46fb3ba46a60f024aa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switchOnLED </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to switch the LED on. It keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a46be1cdf6842e46fb3ba46a60f024aa0_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a46be1cdf6842e46fb3ba46a60f024aa0_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a46be1cdf6842e46fb3ba46a60f024aa0_icgraph" id="WIFIOnOff_8ino_a46be1cdf6842e46fb3ba46a60f024aa0_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aeaf97294d049f17c3eef4add9a4df1ec" title="This function is used to toggle the LED. Indirectly, it keeps track of the internal state stateLEDOn..." alt="" coords="192,95,275,121"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#af43969e915aec75ff3f318d585e0606a" title="This function is called to give the user feedback that the EEPROM has been re&#45;/initialized. This means that all the user&#45;entered data is gone and the device needs to be reconfigured. " alt="" coords="158,157,309,184"/><area shape="rect" id="node11" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="182,233,285,260"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="748,5,887,32"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="358,95,538,121"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="941,56,987,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="587,95,698,121"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="769,107,866,133"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a3d5cf434e34fce7db249185369616a32" title="This function is setting up the EEPROM. If the CRC check fails, the EEPROM will be overwritten with i..." alt="" coords="587,157,699,184"/><area shape="rect" id="node10" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="937,233,991,260"/><area shape="rect" id="node12" href="WIFIOnOff_8ino.html#a2d92a759a6fa273c581f3fa4243fa1d9" title="This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state stateRelayConnected. " alt="" coords="403,208,493,235"/><area shape="rect" id="node14" href="WIFIOnOff_8ino.html#ab913592c54bd79feda56cbdc86f44641" title="Callback which is called when MQTT receives an incoming topic. " alt="" coords="386,259,510,285"/><area shape="rect" id="node16" href="WIFIOnOff_8ino.html#a50409543b7c4c4fb48e60ec35fbda3f3" title="This function is used configure the webserver. The webserver is configured by defining callback funct..." alt="" coords="747,309,887,336"/><area shape="rect" id="node13" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="768,208,867,235"/><area shape="rect" id="node15" href="WIFIOnOff_8ino.html#a3a04a0e88b0687b8c017addfed120950" title="Configure new MQTT server / broker. This will. " alt="" coords="587,259,699,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeaf97294d049f17c3eef4add9a4df1ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleLED </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to toggle the LED. Indirectly, it keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#aa1ef40baec048d45fac1d51afc521d40">stateLEDOn</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_cgraph" id="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#af4164c2bb2661c7427bd66ecd2f8aace" title="This function is used to get the state of the LED. It returns stateLEDOn. " alt="" coords="136,5,251,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="141,56,245,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="142,107,245,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_icgraph" id="WIFIOnOff_8ino_aeaf97294d049f17c3eef4add9a4df1ec_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="365,5,504,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a29d61ce203f552333381a79f4993da69" title="This function is called to give the user feedback that WIFI is about to connect. It will blink at a m..." alt="" coords="137,56,317,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="699,56,746,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a31eed9b3718a60b96c1fea76590a3fc5" title="This function tries to connect to WIFI. " alt="" coords="379,56,490,83"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="553,107,650,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d92a759a6fa273c581f3fa4243fa1d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleRelay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to toggle the connection of the relay with the mains. Indirectly, it keeps track of the internal state <a class="el" href="WIFIOnOff_8ino.html#a48a5ee80a30c37768bf1e198f1ee5692">stateRelayConnected</a>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_cgraph" id="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aefabc9bd763a51753669e6c249140abc" title="This function is used to get the connection state of the relay with the mains. It returns stateRelayC..." alt="" coords="464,5,632,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#ae850a8f5a550a31d8433eddf41a11d44" title="This function is used to disconnect the relay from the mains. It keeps track of the internal state st..." alt="" coords="145,43,263,69"/><area shape="rect" id="node8" href="WIFIOnOff_8ino.html#a6eda13f766d5d36ba8bcbe7c252c2ab8" title="This function is used to connect the relay to the mains. It keeps track of the internal state stateRe..." alt="" coords="153,93,255,120"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a6a76f6c6d6e85f2215f0451b12f1db54" title="This function is used to switch the LED off. It keeps track of the internal state stateLEDOn..." alt="" coords="312,43,416,69"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#a92e8e72a8c9bd699aefa63b65c4bc30c" title="With the call of this function, mqttClient publishes the state of the relay (getStateRelayConnected()..." alt="" coords="319,93,409,120"/><area shape="rect" id="node6" href="WIFIOnOff_8ino.html#af5189bf4d6c6b3d4a90bf76335456740" title="Get MQTT connection state. " alt="" coords="469,68,627,95"/><area shape="rect" id="node7" href="WIFIOnOff_8ino.html#a92b654456d82f73760cda8b83c5a0ca6" title="Getter function for mqttOutgoingTopic. " alt="" coords="467,119,629,145"/><area shape="rect" id="node9" href="WIFIOnOff_8ino.html#a46be1cdf6842e46fb3ba46a60f024aa0" title="This function is used to switch the LED on. It keeps track of the internal state stateLEDOn. " alt="" coords="313,144,415,171"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_icgraph" id="WIFIOnOff_8ino_a2d92a759a6fa273c581f3fa4243fa1d9_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. " alt="" coords="144,5,243,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f" title="This function is executed once at the startup of the microcontroller. " alt="" coords="291,5,346,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1da84f44cf0a8afe3ad725de0cae4c19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unsetFactoryResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to unset <a class="el" href="WIFIOnOff_8ino.html#a4768e99cded5c5493ba789b0555c80fc">factoryResetRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a1da84f44cf0a8afe3ad725de0cae4c19_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a1da84f44cf0a8afe3ad725de0cae4c19_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a1da84f44cf0a8afe3ad725de0cae4c19_icgraph" id="WIFIOnOff_8ino_a1da84f44cf0a8afe3ad725de0cae4c19_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="251,5,397,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="446,5,493,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f07f10222db3144a4a271ddcb81cdde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unsetUserActionFeedbackRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function for <a class="el" href="WIFIOnOff_8ino.html#a3e5c7c27259449622535aee1125f275a">userActionFeedbackRequest</a>. The user has been notified that a menu can be selected. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a2f07f10222db3144a4a271ddcb81cdde_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a2f07f10222db3144a4a271ddcb81cdde_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a2f07f10222db3144a4a271ddcb81cdde_icgraph" id="WIFIOnOff_8ino_a2f07f10222db3144a4a271ddcb81cdde_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aed631ac5d7f4338966a6a187e1057258" title="This function is called to give the user feedback about the menu the user selected. It will blink fast for a short period of time. The user has the choice to release and select the menu or to wait for the next menu. By counting the feedbackQuickBlink()&#45;events, the user can determine which menu is selected, when the button is released now. " alt="" coords="280,5,419,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="467,5,514,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac782bcb28cf6c4cf77d8a408fe02c2f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unsetWiFiConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is a setter function which sets WiFi to not configured, which means that WPS is necessary before connecting to WIFI. The configuration is saved to EEPROM. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_cgraph.png" border="0" usemap="#WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_cgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_cgraph" id="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_cgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#a1dd9db8c49797d8536247d1fba49cfe7" title="This function calculates the CRC value of the values in the EEPROM with the help of function calculat..." alt="" coords="245,5,326,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0e963d26058822266a054c999cf33ece" title="Setter function to unsset wifiResetRequested. " alt="" coords="198,56,373,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a16ef77fe42b6e5a700dd2445f0aaa24f" title="This function calculates a CRC checksum for the EEPROM. It is taken from: https://www.arduino.cc/en/Tutorial/EEPROMCrc. " alt="" coords="421,5,520,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_icgraph" id="WIFIOnOff_8ino_ac782bcb28cf6c4cf77d8a408fe02c2f9_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="222,5,319,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="393,56,439,83"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="198,107,343,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e963d26058822266a054c999cf33ece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unsetWifiResetRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to unsset <a class="el" href="WIFIOnOff_8ino.html#a1ef1b3b96ca3b7c432a5c202037bcd43">wifiResetRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a0e963d26058822266a054c999cf33ece_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a0e963d26058822266a054c999cf33ece_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a0e963d26058822266a054c999cf33ece_icgraph" id="WIFIOnOff_8ino_a0e963d26058822266a054c999cf33ece_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#ac782bcb28cf6c4cf77d8a408fe02c2f9" title="This function is a setter function which sets WiFi to not configured, which means that WPS is necessa..." alt="" coords="229,56,373,83"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="446,5,543,32"/><area shape="rect" id="node4" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="617,56,663,83"/><area shape="rect" id="node5" href="WIFIOnOff_8ino.html#afec1c2962185272a8c87843f95d205ad" title="Perform factory reset. " alt="" coords="422,107,567,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a86eebd69aeee5bbb5e648fc099b4b360"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unsetWPSRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter function to unset <a class="el" href="WIFIOnOff_8ino.html#a002d6cec57f207948ee9f62a3fbc12fe">wpsRequested</a>. </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="WIFIOnOff_8ino_a86eebd69aeee5bbb5e648fc099b4b360_icgraph.png" border="0" usemap="#WIFIOnOff_8ino_a86eebd69aeee5bbb5e648fc099b4b360_icgraph" alt=""/></div>
<map name="WIFIOnOff_8ino_a86eebd69aeee5bbb5e648fc099b4b360_icgraph" id="WIFIOnOff_8ino_a86eebd69aeee5bbb5e648fc099b4b360_icgraph">
<area shape="rect" id="node2" href="WIFIOnOff_8ino.html#aa51eb2a71952e54dba6130be21b3a1d7" title="This function is used to trigger WPS. If WPS has been successful, setWiFiConfigured() is executed and..." alt="" coords="190,5,287,32"/><area shape="rect" id="node3" href="WIFIOnOff_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f" title="This function is executed in a loop after setup(void) has been called. " alt="" coords="337,5,383,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a80700674ee3f9a7b6ae86b0756679902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool buttonLastPressed = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the button was pressed since <a class="el" href="WIFIOnOff_8ino.html#acd4d58af93c899ee9a03131727b1cf34" title="This function triggers. ">pressHandler()</a> was called the last time. </p>

</div>
</div>
<a class="anchor" id="a4ddb8b6ae564eb22f7c74f2683a63b8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int buttonPin = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant to map the hardware button of the Sonoff S20. </p>

</div>
</div>
<a class="anchor" id="a4768e99cded5c5493ba789b0555c80fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool factoryResetRequested = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether a factory reset has been requested. </p>

</div>
</div>
<a class="anchor" id="a0524591f2a058a4f26f16579245db356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MQTTClient mqttClient</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>central object to manage MQTT </p>
<dl class="section see"><dt>See Also</dt><dd>MQTT protocol <a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.pdf">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.pdf</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a686cf2365a7075bc5f72d01c99b3a9f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String mqttIncomingTopic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The topic which <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> subscribes. </p>

</div>
</div>
<a class="anchor" id="a2311f2b74fe46d3f9e8072b3694deee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String mqttOutgoingTopic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The topic <a class="el" href="WIFIOnOff_8ino.html#a0524591f2a058a4f26f16579245db356">mqttClient</a> publishes. </p>

</div>
</div>
<a class="anchor" id="a020889fcca6224d14f4d3f4241ca4467"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String mqttServer = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global variable to store the DNS name or IP address of the MQTT broker. </p>

</div>
</div>
<a class="anchor" id="aea49499f7c0ed08f20649e96024455ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int pinLED = 13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant to map the green LED of the Sonoff S20. </p>

</div>
</div>
<a class="anchor" id="aa4021c86d826785a0f0bcac11a38d30e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int pinRelay = 12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant to map the relay of the Sonoff S20. </p>

</div>
</div>
<a class="anchor" id="ac4144c663334d0f32b58e62981300160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String REPOSITORY_URL_STRING = &quot;https://github.com/peastone/WIFIOnOff&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contains a link to the code repository which is embedded in the rendered HTML files in the function <a class="el" href="WIFIOnOff_8ino.html#a12a8bd3c3a1288633c3eade6ee8e77cf" title="This function returns the last part of a HTML file which is reused for all responses. ">renderFooter()</a>. </p>

</div>
</div>
<a class="anchor" id="a969fb5df6fd687b0434058fa78c25f27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long selectionState = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track which menu the user selects, if the button is released. </p>

</div>
</div>
<a class="anchor" id="aa1ef40baec048d45fac1d51afc521d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stateLEDOn = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the LED is on. </p>

</div>
</div>
<a class="anchor" id="a3f27c574110acbefe064ca29a7ce289d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stateMQTTConfigured = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether MQTT is configured. </p>

</div>
</div>
<a class="anchor" id="a48a5ee80a30c37768bf1e198f1ee5692"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stateRelayConnected = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the LED is connected to the mains. </p>

</div>
</div>
<a class="anchor" id="a4bb2542b2738619fdf76b685b10e315d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ticker ticker</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This object is used to trigger the function press frequently. The button handler is implemented there. </p>

</div>
</div>
<a class="anchor" id="a244ed52f592c09418e6feee15f1cecd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long timeSincebuttonPressed = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track the time since the button was pressed. </p>

</div>
</div>
<a class="anchor" id="a3e5c7c27259449622535aee1125f275a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool userActionFeedbackRequest = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the user should be notified that a menu can be selected by releasing the button. </p>

</div>
</div>
<a class="anchor" id="a0c2e905cdd4621947a7d6c966383e28c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ESP8266WebServer webserver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the webserver object. It is used to serve the user interface over HTTP. Per default, port 80 is used. </p>

</div>
</div>
<a class="anchor" id="a64f7c60366b0a82c42d7a1dbf4e9505a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WiFiClient wifiClient</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Necessary to initialize a MQTTClient object. </p>

</div>
</div>
<a class="anchor" id="a1ef1b3b96ca3b7c432a5c202037bcd43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wifiResetRequested = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the deletion of WIFI data has been requested. </p>

</div>
</div>
<a class="anchor" id="a002d6cec57f207948ee9f62a3fbc12fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wpsRequested = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State to track whether the WPS has been requested. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
